(()=>{var e={};e.id=314,e.ids=[314],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47990:()=>{},51906:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=51906,e.exports=t},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61038:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>q,routeModule:()=>c,serverHooks:()=>m,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{PUT:()=>d});var i=r(96559),o=r(48088),a=r(37719),u=r(61223),n=r(44999),p=r(32190);async function d(e,{params:t}){let{status:r}=await e.json(),s=(0,u.createRouteHandlerClient)({cookies:n.UL}),{data:{session:i}}=await s.auth.getSession();if(!i)return new p.NextResponse("Unauthorized",{status:401});let{data:o}=await s.rpc("is_admin");if(!o)return new p.NextResponse("Forbidden",{status:403});let{error:a}=await s.from("orders").update({status:r}).eq("id",t.id);return a?p.NextResponse.json({error:`Failed to update order status: ${a.message}`},{status:500}):p.NextResponse.json({success:!0})}let c=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/admin/orders/[id]/status/route",pathname:"/api/admin/orders/[id]/status",filename:"route",bundlePath:"app/api/admin/orders/[id]/status/route"},resolvedPagePath:"C:\\Projects\\toto-minimalist\\src\\app\\api\\admin\\orders\\[id]\\status\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:l,serverHooks:m}=c;function q(){return(0,a.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:l})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4243,3605,580],()=>r(61038));module.exports=s})();