(()=>{var e={};e.id=8242,e.ids=[8242],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},16196:(e,t,r)=>{Promise.resolve().then(r.bind(r,68564))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29453:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(60687);r(43210);let i=({title:e,description:t,className:r=""})=>(0,s.jsxs)("div",{className:`text-center ${r}`,children:[(0,s.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:e}),t&&(0,s.jsx)("p",{className:"mt-4 text-lg leading-8 text-gray-600",children:t})]})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68564:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\toto-minimalist\\\\src\\\\app\\\\deals\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\toto-minimalist\\src\\app\\deals\\page.tsx","default")},74075:e=>{"use strict";e.exports=require("zlib")},79062:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(65239),i=r(48088),a=r(88170),o=r.n(a),n=r(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c={children:["",{children:["deals",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68564)),"C:\\Projects\\toto-minimalist\\src\\app\\deals\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,33821)),"C:\\Projects\\toto-minimalist\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"C:\\Projects\\toto-minimalist\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"C:\\Projects\\toto-minimalist\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Projects\\toto-minimalist\\src\\app\\deals\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/deals/page",pathname:"/deals",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80206:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(60687),i=r(43210),a=r(79481),o=r(9243),n=r(29453);let l={title:"All Deals",description:"Browse all our amazing deals and save big on these items"},c=()=>{let[e,t]=(0,i.useState)([]),[r,c]=(0,i.useState)(!0),[d,p]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{c(!0),p(null);try{let{error:e}=await a.N.from("products").select("id").limit(1);if(e?.message?.includes("does not exist")){p("Store is being set up. Please check back soon."),c(!1);return}let{data:r,error:s}=await a.N.from("products").select(`
            id,
            name,
            description,
            price,
            compare_at_price,
            stock,
            status,
            is_featured,
            is_deal,
            deal_order,
            sku,
            slug,
            category_id,
            images,
            categories:categories(name, slug)
          `).eq("status","active").not("compare_at_price","is",null).order("deal_order",{ascending:!0}).order("created_at",{ascending:!1});if(s){p("Unable to load deals at this time."),c(!1);return}if(r&&0!==r.length){let e=r.filter(e=>e.compare_at_price&&e.compare_at_price>e.price).map(e=>{let t=e.compare_at_price?(e.compare_at_price-e.price)/e.compare_at_price*100:0;return{...e,discountPercentage:t}}).sort((e,t)=>t.discountPercentage-e.discountPercentage).map((e,t)=>({id:e.id,name:e.name,description:e.description,price:e.compare_at_price||e.price,salePrice:e.price,images:Array.isArray(e.images)?e.images.map(e=>({url:e})):[{url:"/images/placeholder.png"}],sku:e.sku||`TOT-${e.id.slice(0,8)}`,slug:e.slug,category:e.categories?.name||"",categorySlug:"",ageRange:"",inStock:e.stock>0,isFeatured:e.is_featured||!1,rating:5,reviews:0,index:t+1,sizes:[{value:"0-2",label:"0-2 years",price:e.price,inStock:!0},{value:"2-4",label:"2-4 years",price:e.price,inStock:!0},{value:"4-6",label:"4-6 years",price:e.price,inStock:!0},{value:"6+",label:"6+ years",price:e.price,inStock:!0}]}));t(e)}else t([])}catch(e){p("Something went wrong. Please try again later.")}finally{c(!1)}})()},[]),(0,s.jsxs)("div",{className:"container py-10",children:[(0,s.jsx)(n.A,{title:l.title,description:l.description}),(0,s.jsxs)("div",{className:"mt-8",children:[r&&(0,s.jsx)("div",{className:"text-center text-gray-500",children:"Loading deals..."}),d&&(0,s.jsxs)("div",{className:"text-center text-red-500",children:["Error: ",d]}),!r&&!d&&0===e.length&&(0,s.jsx)("div",{className:"text-center text-gray-500",children:"No deals available at the moment."}),!r&&!d&&e.length>0&&(0,s.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(e=>(0,s.jsx)(o.default,{product:e,className:"best-deals-card"},e.id))})]})]})}},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},97636:(e,t,r)=>{Promise.resolve().then(r.bind(r,80206))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4243,3605,6945,4036],()=>r(79062));module.exports=s})();