(()=>{var e={};e.id=1430,e.ids=[1430],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},14696:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(60687),a=s(43210),i=s(8693),n=s(29494),l=s(54050),o=s(44867),d=s(17019),c=s(30036),m=s(33211),u=s(79481);let x=(0,c.default)(async()=>{},{loadableGenerated:{modules:["app\\admin\\blog-authors\\page.tsx -> ./blog-author-form"]},ssr:!1});function p(){let[e,t]=(0,a.useState)(!1),[s,c]=(0,a.useState)(null),[p,h]=(0,a.useState)(""),[f,g]=(0,a.useState)(1),y=(0,i.jE)(),{data:v=[],isLoading:j,error:b}=(0,n.I)({queryKey:["blog-authors",f,p],queryFn:async()=>{let e=u.N.from("blog_authors").select("*",{count:"exact"});p&&(e=e.ilike("full_name",`%${p}%`));let{data:t,error:s}=await e.order("full_name",{ascending:!0}).range((f-1)*10,10*f-1);if(s)throw s;return t||[]}}),N=(0,l.n)({mutationFn:async e=>{let{error:t}=await u.N.from("blog_authors").delete().eq("id",e);if(t)throw t;return e},onSuccess:()=>{y.invalidateQueries({queryKey:["blog-authors"]})}}),w=e=>{c(e),t(!0)},P=async e=>{if(window.confirm("Are you sure you want to delete this author? This action cannot be undone."))try{await N.mutateAsync(e)}catch(e){alert("Failed to delete author. Please try again.")}};return(0,r.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,r.jsxs)("div",{className:"sm:flex-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Blog Authors"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Manage the authors who can write blog posts on your site."})]}),(0,r.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{c(null),t(!0)},className:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 sm:w-auto",children:[(0,r.jsx)(d.GGD,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Author"]})})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("div",{className:"relative mt-1 rounded-md shadow-sm",children:(0,r.jsx)("input",{type:"text",name:"search",id:"search",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Search authors...",value:p,onChange:e=>h(e.target.value)})})}),j?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):b?(0,r.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading authors"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,r.jsx)("p",{children:b.message})})]})})}):0===v.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No authors"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new author."}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("button",{type:"button",onClick:()=>t(!0),className:"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[(0,r.jsx)(d.GGD,{className:"-ml-1 mr-2 h-5 w-5"}),"New Author"]})})]}):(0,r.jsx)("div",{className:"mt-8 flex flex-col",children:(0,r.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,r.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Name"}),(0,r.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Email"}),(0,r.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Created"}),(0,r.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,r.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:v.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:e.avatar_url?(0,r.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.avatar_url,alt:e.full_name}):(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500",children:e.full_name.charAt(0).toUpperCase()})}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.full_name})})]})}),(0,r.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.email||"-"}),(0,r.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,o.GP)(new Date(e.created_at),"MMM d, yyyy")}),(0,r.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[(0,r.jsx)("button",{onClick:()=>w(e),className:"text-primary-600 hover:text-primary-900 mr-4",children:(0,r.jsx)(d.WXf,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>P(e.id),className:"text-red-600 hover:text-red-900",children:(0,r.jsx)(d.IXo,{className:"h-5 w-5"})})]})]},e.id))})]})})})})})]}),(0,r.jsx)(m.A,{isOpen:e,onClose:()=>{t(!1),c(null)},title:s?"Edit Author":"Add New Author",children:(0,r.jsx)(x,{author:s||void 0,onClose:()=>{t(!1),c(null)}})})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33211:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(60687);function a({isOpen:e,onClose:t,title:s,children:a}){return e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),(0,r.jsxs)("div",{className:"inline-block w-full transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:max-w-3xl sm:p-6 sm:align-middle",children:[(0,r.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,r.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:t,children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,r.jsx)("div",{className:"sm:flex sm:items-start",children:(0,r.jsxs)("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold leading-6 text-gray-900",children:s}),(0,r.jsx)("div",{className:"mt-4",children:a})]})})]})]})}):null}s(43210)},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35617:(e,t,s)=>{Promise.resolve().then(s.bind(s,14696))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69774:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\toto-minimalist\\\\src\\\\app\\\\admin\\\\blog-authors\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\toto-minimalist\\src\\app\\admin\\blog-authors\\page.tsx","default")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95970:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(65239),a=s(48088),i=s(88170),n=s.n(i),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["admin",{children:["blog-authors",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,69774)),"C:\\Projects\\toto-minimalist\\src\\app\\admin\\blog-authors\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,99111)),"C:\\Projects\\toto-minimalist\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(s.bind(s,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,33821)),"C:\\Projects\\toto-minimalist\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,67393)),"C:\\Projects\\toto-minimalist\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,54413)),"C:\\Projects\\toto-minimalist\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(s.bind(s,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Projects\\toto-minimalist\\src\\app\\admin\\blog-authors\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/blog-authors/page",pathname:"/admin/blog-authors",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},99169:(e,t,s)=>{Promise.resolve().then(s.bind(s,69774))}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4243,3605,6945,5745,2347,6970,4036,133],()=>s(95970));module.exports=r})();