(()=>{var e={};e.id=3124,e.ids=[3124],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4780:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i,v:()=>n});var r=s(49384),a=s(82348);function i(...e){return(0,a.QP)((0,r.$)(e))}function n(e,t="en-GB",s="KES"){return new Intl.NumberFormat(t,{style:"currency",currency:s}).format(e)}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12199:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(60687),a=s(43210),i=s(16189),n=s(29494),d=s(79481),l=s(85814),o=s.n(l),c=s(66990),m=s(51908);let x=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),p=e=>{let t=u(e);return t.charAt(0).toUpperCase()+t.slice(1)},h=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),g=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let j=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:n,iconNode:d,...l},o)=>(0,a.createElement)("svg",{ref:o,...y,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:h("lucide",i),...!n&&!g(l)&&{"aria-hidden":"true"},...l},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(n)?n:[n]])),f=((e,t)=>{let s=(0,a.forwardRef)(({className:e,...s},r)=>(0,a.createElement)(j,{ref:r,iconNode:t,className:h(`lucide-${x(p("x"))}`,"lucide-x",e),...s}));return s.displayName=p(e),s})("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var N=s(30474),v=s(4780);function b({isOpen:e,onClose:t,item:s}){return s?(0,r.jsxs)(m.lG,{open:e,onClose:t,className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,r.jsxs)(m.lG.Panel,{className:"mx-auto max-w-md rounded-lg bg-white p-6 shadow-xl relative",children:[(0,r.jsxs)("button",{type:"button",className:"absolute right-4 top-4 rounded-md text-gray-400 hover:text-gray-500",onClick:t,children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)(f,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,r.jsx)("div",{className:"sm:flex sm:items-start",children:(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[(0,r.jsx)(m.lG.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:s.name}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-100",children:s.image?(0,r.jsx)(N.default,{src:s.image,alt:s.name,width:400,height:400,className:"h-full w-full object-cover object-center"}):(0,r.jsx)("div",{className:"h-full w-full bg-gray-200 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-400",children:"No image"})})}),(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Price:"})," ",(0,v.v)(s.price)]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Quantity:"})," ",s.quantity]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Total:"})," ",(0,v.v)(s.price*s.quantity)]}),s.description&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Description:"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:s.description})]}),s.options&&Object.keys(s.options).length>0&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Options:"}),(0,r.jsx)("ul",{className:"text-sm text-gray-500",children:Object.entries(s.options).map(([e,t])=>(0,r.jsxs)("li",{children:[e,": ",String(t)]},e))})]})]})]})]})}),(0,r.jsx)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:(0,r.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Close"})})]})})]}):null}function w(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(!1),m=(0,i.useParams)(),x="string"==typeof m?.id?m.id:null,{data:u,isLoading:p}=(0,n.I)({queryKey:["order",x],queryFn:async()=>{if(!x)throw Error("Order ID is required");let{data:e,error:t}=await d.N.from("orders").select("id, customer_name, phone, delivery_zone, location, items, total, status, created_at, mpesa_phone_number, mpesa_transaction_code, is_immediate_payment, discount_percentage, original_amount, discounted_amount, payment_status, payment_date, order_confirmed, order_confirmation_date").eq("id",x).single();if(t)throw t;return e}});if(p)return(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 w-64 bg-gray-200 rounded mb-4"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"h-4 w-full bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-4 w-3/4 bg-gray-200 rounded"})]})]})});if(!u)return(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Order not found"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"The order you're looking for doesn't exist."}),(0,r.jsx)(o(),{href:"/admin/orders",className:"mt-4 inline-block text-primary hover:underline",children:"Back to Orders"})]})});let h=(e,t=6)=>{let s=e.split(" ");return s.length>t?s.slice(0,t).join(" ")+"...":e};return(0,r.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)(o(),{href:"/admin/orders",className:"text-primary hover:underline mb-4 inline-flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Orders"]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-2",children:[(0,r.jsxs)("h1",{className:"text-2xl font-semibold text-gray-900",children:["Order #",u.id.slice(0,8)]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:u.status.charAt(0).toUpperCase()+u.status.slice(1)}),(0,r.jsx)("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${"paid"===u.payment_status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:u.payment_status?`${u.payment_status.charAt(0).toUpperCase()}${u.payment_status.slice(1)}`:"Pending"})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:new Date(u.created_at).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,r.jsx)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Order Summary"})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Order Date"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(u.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Order ID"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900 font-mono",children:u.id})]}),(0,r.jsxs)("div",{className:"sm:col-span-1",children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Order Status"}),(0,r.jsx)("dd",{className:"mt-1",children:(0,r.jsx)(c.A,{orderId:u.id,currentStatus:u.status,type:"status",options:[{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"processing",label:"Processing"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}],className:"w-full sm:w-auto rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-1 focus:ring-primary"})})]}),(0,r.jsxs)("div",{className:"sm:col-span-1",children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),(0,r.jsxs)("dd",{className:"mt-1",children:[(0,r.jsx)(c.A,{orderId:u.id,currentStatus:u.payment_status||"pending",type:"paymentStatus",options:[{value:"pending",label:"Pending"},{value:"paid",label:"Paid"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"},{value:"refunded",label:"Refunded"}],className:"w-full sm:w-auto rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-1 focus:ring-primary"}),u.payment_date&&(0,r.jsxs)("span",{className:"block sm:inline-block mt-1 sm:mt-0 sm:ml-2 text-xs text-gray-500",children:["on ",new Date(u.payment_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]})]}),(0,r.jsxs)("div",{className:"sm:col-span-2",children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),(0,r.jsx)("dd",{className:"mt-1 text-lg font-semibold text-gray-900",children:u.is_immediate_payment&&u.discount_percentage&&u.discount_percentage>0?(0,r.jsxs)("div",{className:"flex items-baseline space-x-2",children:[(0,r.jsxs)("span",{className:"line-through text-gray-500 text-base",children:["KES ",u.original_amount?.toFixed(2)]}),(0,r.jsxs)("span",{className:"text-primary",children:["KES ",u.discounted_amount?.toFixed(2)]}),(0,r.jsxs)("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-0.5 rounded-full font-medium",children:[u.discount_percentage,"% OFF"]})]}):`KES ${u.total.toFixed(2)}`})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Order Items (",u.items?.length||0,")"]})}),(0,r.jsxs)("div",{className:"p-0 sm:p-2 md:p-4",children:[(0,r.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,r.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.items&&Array.isArray(u.items)&&u.items.map((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[e.image&&(0,r.jsx)("div",{className:"flex-shrink-0 h-12 w-12 mr-3",children:(0,r.jsx)("img",{className:"h-12 w-12 rounded-md object-cover",src:e.image,alt:e.name})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("a",{href:`/products/${e.slug||e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-gray-900 hover:text-primary transition-colors truncate block",style:{maxWidth:"250px"},title:e.name,onClick:e=>e.stopPropagation(),children:e.name}),e.variant&&(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e.variant})]})]})}),(0,r.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 text-right",children:["KES ",e.price?.toFixed(2)]}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 text-center",children:e.quantity}),(0,r.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 font-medium text-right",children:["KES ",(e.price*e.quantity).toFixed(2)]})]},e.id||t))}),u.is_immediate_payment&&u.discount_percentage&&u.discount_percentage>0&&u.original_amount&&u.discounted_amount&&(0,r.jsxs)("tfoot",{className:"bg-gray-50",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-600",children:"Subtotal"}),(0,r.jsxs)("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-800",children:["KES ",u.original_amount.toFixed(2)]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-green-600",children:["Discount (",u.discount_percentage,"%)"]}),(0,r.jsxs)("td",{className:"px-4 py-3 text-right text-sm font-medium text-green-600",children:["- KES ",(u.original_amount-u.discounted_amount).toFixed(2)]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{colSpan:3,className:"px-4 py-3 text-right text-base font-bold text-gray-700",children:"Grand Total"}),(0,r.jsxs)("td",{className:"px-4 py-3 text-right text-base font-bold text-gray-900",children:["KES ",u.discounted_amount.toFixed(2)]})]})]})]})}),(0,r.jsxs)("div",{className:"block sm:hidden space-y-3 p-4",children:[u.items&&Array.isArray(u.items)&&u.items.map((e,t)=>(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[e.image&&(0,r.jsx)("img",{className:"h-16 w-16 rounded-md object-cover flex-shrink-0",src:e.image,alt:e.name}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("a",{href:`/products/${e.slug||e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-gray-800 hover:text-primary transition-colors block",title:e.name,children:h(e.name,5)}),e.variant&&(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.variant}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:["Unit Price: KES ",e.price?.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-600",children:["Quantity: ",(0,r.jsx)("span",{className:"font-medium text-gray-800",children:e.quantity})]}),(0,r.jsxs)("span",{className:"font-semibold text-gray-800",children:["KES ",(e.price*e.quantity).toFixed(2)]})]})]},e.id||t)),u.is_immediate_payment&&u.discount_percentage&&u.discount_percentage>0&&u.original_amount&&u.discounted_amount&&(0,r.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,r.jsxs)("span",{className:"text-gray-800 font-medium",children:["KES ",u.original_amount.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm text-green-600 mb-1",children:[(0,r.jsxs)("span",{className:"font-medium",children:["Discount (",u.discount_percentage,"%):"]}),(0,r.jsxs)("span",{className:"font-medium",children:["- KES ",(u.original_amount-u.discounted_amount).toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-base font-bold mt-2",children:[(0,r.jsx)("span",{className:"text-gray-700",children:"Grand Total:"}),(0,r.jsxs)("span",{className:"text-gray-900",children:["KES ",u.discounted_amount.toFixed(2)]})]})]})]})]})]})]}),(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,r.jsx)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Customer & Shipping Information"})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("dl",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"pb-4 border-b border-gray-100",children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Customer Name"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:u.customer_name||"Guest"})]}),(0,r.jsxs)("div",{className:"pb-4 border-b border-gray-100",children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Contact Information"}),(0,r.jsxs)("dd",{className:"mt-1 text-sm text-gray-900",children:[u.phone||"Not provided",u.mpesa_phone_number&&u.mpesa_phone_number!==u.phone&&(0,r.jsxs)("div",{className:"mt-1 text-sm text-gray-500",children:["M-Pesa: ",u.mpesa_phone_number]}),u.mpesa_transaction_code&&(0,r.jsxs)("div",{className:"mt-1 text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:"Transaction:"})," ",(0,r.jsx)("span",{className:"font-mono text-gray-900",children:u.mpesa_transaction_code})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Shipping Address"}),(0,r.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 space-y-1",children:[u.location&&(0,r.jsx)("div",{children:u.location}),u.delivery_zone&&(0,r.jsxs)("div",{className:"text-gray-600",children:[u.delivery_zone," Zone"]}),!u.location&&!u.delivery_zone&&(0,r.jsx)("div",{className:"text-gray-500 italic",children:"No shipping information provided"})]})]})]})})]})})]}),(0,r.jsx)(b,{isOpen:s,onClose:()=>{l(!1)},item:e})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},38622:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\toto-minimalist\\\\src\\\\app\\\\admin\\\\orders\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\toto-minimalist\\src\\app\\admin\\orders\\[id]\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64030:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=s(65239),a=s(48088),i=s(88170),n=s.n(i),d=s(30893),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let o={children:["",{children:["admin",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,38622)),"C:\\Projects\\toto-minimalist\\src\\app\\admin\\orders\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,99111)),"C:\\Projects\\toto-minimalist\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(s.bind(s,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,33821)),"C:\\Projects\\toto-minimalist\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,67393)),"C:\\Projects\\toto-minimalist\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,54413)),"C:\\Projects\\toto-minimalist\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(s.bind(s,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Projects\\toto-minimalist\\src\\app\\admin\\orders\\[id]\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/orders/[id]/page",pathname:"/admin/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},66604:(e,t,s)=>{Promise.resolve().then(s.bind(s,12199))},66990:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(60687),a=s(43210),i=s(16189),n=s(37590);function d({orderId:e,currentStatus:t,type:s,options:d,className:l=""}){let[o,c]=(0,a.useState)(t),[m,x]=(0,a.useState)(!1),u=(0,i.useRouter)(),p=async r=>{if(r!==t){x(!0);try{if(!(await fetch(`/api/admin/orders/${e}/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:r})})).ok)throw Error("Failed to update status");c(r),u.refresh(),n.oR.success(`Order ${"status"===s?"status":"payment status"} updated successfully`)}catch(e){n.oR.error("Failed to update status"),c(t)}finally{x(!1)}}};return(0,r.jsx)("select",{value:o,onChange:e=>p(e.target.value),disabled:m,className:`px-3 py-1 border rounded-md bg-white text-sm ${l} ${m?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:d.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})}},74075:e=>{"use strict";e.exports=require("zlib")},76876:(e,t,s)=>{Promise.resolve().then(s.bind(s,38622))},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4243,3605,6945,5745,2347,9069,4036,133],()=>s(64030));module.exports=r})();