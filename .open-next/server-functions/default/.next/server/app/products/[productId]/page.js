(()=>{var e={};e.id=1736,e.ids=[1736],e.modules={163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(71042).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6747:(e,t,r)=>{"use strict";r.d(t,{Du:()=>o,Ml:()=>a,gO:()=>i}),process.env.NEXT_PUBLIC_FACEBOOK_PIXEL_ID;let n=(...e)=>{},i=e=>{n("track","ViewContent",e)},a=e=>{n("track","AddToCart",e)},o=e=>{n("track","Purchase",e)}},9184:(e,t,r)=>{Promise.resolve().then(r.bind(r,60952)),Promise.resolve().then(r.bind(r,13714)),Promise.resolve().then(r.bind(r,45832))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},39916:(e,t,r)=>{"use strict";var n=r(97576);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}})},42078:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var n=r(65239),i=r(48088),a=r(88170),o=r.n(a),l=r(30893),s={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);r.d(t,s);let c={children:["",{children:["products",{children:["[productId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,50176)),"C:\\Projects\\toto-minimalist\\src\\app\\products\\[productId]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,33821)),"C:\\Projects\\toto-minimalist\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"C:\\Projects\\toto-minimalist\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"C:\\Projects\\toto-minimalist\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Projects\\toto-minimalist\\src\\app\\products\\[productId]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/products/[productId]/page",pathname:"/products/[productId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},45832:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\toto-minimalist\\\\src\\\\components\\\\ProductViewTracker.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\toto-minimalist\\src\\components\\ProductViewTracker.tsx","default")},48976:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},50176:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y,dynamic:()=>b,generateMetadata:()=>g,revalidate:()=>x});var n=r(37413),i=r(39916),a=r(60165),o=r(13714),l=r(45832),s=r(60952),c=r(63511);async function d(e){try{let{data:t,error:r}=await c.N.from("products").select(`
        id,
        name,
        description,
        price,
        stock,
        status,
        sku,
        slug,
        category_id,
        images,
        categories:categories(name, slug),
        is_featured,
        is_trending,
        sizes
      `).eq("status","active").eq("slug",e).single();if(r||!t)return null;let n=Array.isArray(t.categories)?t.categories[0]:t.categories;return{...t,category:n?.name||"",categorySlug:n?.slug||"",images:h(t.images),inStock:t.stock>0}}catch(e){return null}}async function u(e,t,r=4){if(!e||!t)return[];try{let n=await f({eq:[["category_id",e],["status","active"]],neq:[["id",t]],limit:r});if(0===n.length)return p(r);return n}catch(e){return[]}}async function m(e=4){return f({eq:[["is_featured",!0],["status","active"]],limit:e})}async function p(e=4){return f({eq:[["is_trending",!0],["status","active"]],limit:e})}async function f({eq:e=[],neq:t=[],limit:r=10}){try{if(e.some(([t])=>"category_id"===t&&!e.find(([e])=>"category_id"===e)?.[1]))return[];let n=c.N.from("products").select(`
        id,
        name,
        price,
        images,
        slug,
        is_featured,
        is_trending,
        categories:categories(name, slug)
      `);e.forEach(([e,t])=>{void 0!==t&&""!==t&&(n=n.eq(e,t))}),t.forEach(([e,t])=>{void 0!==t&&""!==t&&(n=n.neq(e,t))});let{data:i,error:a,status:o,statusText:l}=await n.limit(r);if(a)throw a;if(!i)return[];return i.map(e=>{try{let t=Array.isArray(e.categories)?e.categories[0]:e.categories;return{...e,category:t?.name||"",categorySlug:t?.slug||"",images:h(e.images)}}catch(e){return null}}).filter(Boolean)}catch(e){return[]}}function h(e){return Array.isArray(e)&&0!==e.length?e.map(e=>{if("string"==typeof e)return{url:e,web_image_url:e,feed_image_url:e,alt:""};if(e&&"object"==typeof e){let t=e.web_image_url||e.webp_url||e.url||"",r=e.feed_image_url||e.feed_url||e.url||"";return t||r?{url:e.url,src:e.src,web_image_url:t,web_optimized_image_url:e.web_optimized_image_url,feed_image_url:r,alt:e.alt||""}:{web_image_url:a.G,feed_image_url:a.G,alt:e.alt||""}}return{web_image_url:a.G,feed_image_url:a.G,alt:""}}):[{web_image_url:a.G,feed_image_url:a.G,alt:""}]}async function g({params:e}){let{productId:t}=await e,r=decodeURIComponent(t),n=await d(r);if(!n)return{title:"Product Not Found - Toto Toys & Fun - Affordable Toys and Games for Kids in Kenya.",description:"The requested product could not be found."};let i=n.images[0]?.web_image_url||n.images[0]?.url||a.G;return{title:`${n.name} - Toto Toys & Fun - Affordable Toys and Games for Kids in Kenya.`,description:n.description,openGraph:{title:n.name,description:n.description,images:[{url:i,width:800,height:600,alt:n.name}]}}}let b="force-static",x=300;async function y({params:e}){let{productId:t}=await e,r=decodeURIComponent(t),a=await d(r);a||(0,i.notFound)();let[c,f,h,g]=await Promise.all([u(a.category_id,a.id),m(6),p(6),p(6)]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.default,{product:a}),(0,n.jsx)(s.default,{product:a}),(0,n.jsxs)("div",{className:"container py-12",children:[c.length>0&&(0,n.jsxs)("div",{className:"mb-12",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"You May Also Like"}),(0,n.jsx)(o.default,{featuredProducts:f,popularProducts:h,relatedProducts:c,otherProducts:g,currentCategory:a.category})]}),f.length>0&&(0,n.jsxs)("div",{className:"mb-12",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Featured Products"}),(0,n.jsx)(o.default,{featuredProducts:f,popularProducts:[],relatedProducts:[],otherProducts:[],currentCategory:""})]})]})]})}},52518:(e,t,r)=>{"use strict";r.d(t,{default:()=>ey});var n,i=r(60687),a=r(43210),o=r(16189),l=r(97756),s=r(91282),c=r(30036),d=r(78037),u=r(99446),m=r(16298),p=r(85814),f=r.n(p),h=r(17335),g=r(6747),b=r(79857);let x=({product:e,isVisible:t,onAddToCart:r,selectedSize:n,currentPrice:a,hasSizes:o,isAddToCartDisabled:s})=>t?(0,i.jsx)(l.P.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 p-3 shadow-top lg:hidden",children:(0,i.jsxs)("div",{className:"container mx-auto flex items-center justify-between gap-3",children:[(0,i.jsxs)("div",{className:"flex-shrink-0",children:[(0,i.jsx)("p",{className:"text-sm text-gray-500 truncate max-w-[100px]",children:e.name}),(0,i.jsxs)("p",{className:"text-lg font-semibold text-primary",children:["KSh ",a.toLocaleString()]})]}),(0,i.jsxs)(m.A,{onClick:r,disabled:s,className:"flex-grow max-w-[200px] !py-2.5 text-sm",children:[(0,i.jsx)(b.A,{className:"w-5 h-5 mr-2"}),"Add to Cart"]})]})}):null;var y=r(52581);let{entries:_,setPrototypeOf:w,isFrozen:v,getPrototypeOf:E,getOwnPropertyDescriptor:N}=Object,{freeze:T,seal:S,create:R}=Object,{apply:j,construct:A}="undefined"!=typeof Reflect&&Reflect;T||(T=function(e){return e}),S||(S=function(e){return e}),j||(j=function(e,t,r){return e.apply(t,r)}),A||(A=function(e,t){return new e(...t)});let C=B(Array.prototype.forEach),O=B(Array.prototype.lastIndexOf),P=B(Array.prototype.pop),k=B(Array.prototype.push),L=B(Array.prototype.splice),I=B(String.prototype.toLowerCase),M=B(String.prototype.toString),D=B(String.prototype.match),z=B(String.prototype.replace),U=B(String.prototype.indexOf),F=B(String.prototype.trim),H=B(Object.prototype.hasOwnProperty),G=B(RegExp.prototype.test),q=(n=TypeError,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return A(n,t)});function B(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return j(e,t,n)}}function W(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;w&&w(e,null);let n=t.length;for(;n--;){let i=t[n];if("string"==typeof i){let e=r(i);e!==i&&(v(t)||(t[n]=e),i=e)}e[i]=!0}return e}function $(e){let t=R(null);for(let[r,n]of _(e))H(e,r)&&(Array.isArray(n)?t[r]=function(e){for(let t=0;t<e.length;t++)H(e,t)||(e[t]=null);return e}(n):n&&"object"==typeof n&&n.constructor===Object?t[r]=$(n):t[r]=n);return t}function Y(e,t){for(;null!==e;){let r=N(e,t);if(r){if(r.get)return B(r.get);if("function"==typeof r.value)return B(r.value)}e=E(e)}return function(){return null}}let K=T(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),X=T(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),V=T(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),J=T(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Z=T(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Q=T(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ee=T(["#text"]),et=T(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),er=T(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),en=T(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ei=T(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ea=S(/\{\{[\w\W]*|[\w\W]*\}\}/gm),eo=S(/<%[\w\W]*|[\w\W]*%>/gm),el=S(/\$\{[\w\W]*/gm),es=S(/^data-[\-\w.\u00B7-\uFFFF]+$/),ec=S(/^aria-[\-\w]+$/),ed=S(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eu=S(/^(?:\w+script|data):/i),em=S(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ep=S(/^html$/i);var ef=Object.freeze({__proto__:null,ARIA_ATTR:ec,ATTR_WHITESPACE:em,CUSTOM_ELEMENT:S(/^[a-z][.\w]*(-[.\w]+)+$/i),DATA_ATTR:es,DOCTYPE_NAME:ep,ERB_EXPR:eo,IS_ALLOWED_URI:ed,IS_SCRIPT_OR_DATA:eu,MUSTACHE_EXPR:ea,TMPLIT_EXPR:el});let eh={element:1,text:3,progressingInstruction:7,comment:8,document:9},eg=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null,n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));let i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},eb=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};!function e(){let t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,n=t=>e(t);if(n.version="3.2.6",n.removed=[],!r||!r.document||r.document.nodeType!==eh.document||!r.Element)return n.isSupported=!1,n;let{document:i}=r,a=i,o=a.currentScript,{DocumentFragment:l,HTMLTemplateElement:s,Node:c,Element:d,NodeFilter:u,NamedNodeMap:m=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:h}=r,g=d.prototype,b=Y(g,"cloneNode"),x=Y(g,"remove"),y=Y(g,"nextSibling"),w=Y(g,"childNodes"),v=Y(g,"parentNode");if("function"==typeof s){let e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let E="",{implementation:N,createNodeIterator:S,createDocumentFragment:j,getElementsByTagName:A}=i,{importNode:B}=a,ea=eb();n.isSupported="function"==typeof _&&"function"==typeof v&&N&&void 0!==N.createHTMLDocument;let{MUSTACHE_EXPR:eo,ERB_EXPR:el,TMPLIT_EXPR:es,DATA_ATTR:ec,ARIA_ATTR:eu,IS_SCRIPT_OR_DATA:em,ATTR_WHITESPACE:ex,CUSTOM_ELEMENT:ey}=ef,{IS_ALLOWED_URI:e_}=ef,ew=null,ev=W({},[...K,...X,...V,...Z,...ee]),eE=null,eN=W({},[...et,...er,...en,...ei]),eT=Object.seal(R(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eS=null,eR=null,ej=!0,eA=!0,eC=!1,eO=!0,eP=!1,ek=!0,eL=!1,eI=!1,eM=!1,eD=!1,ez=!1,eU=!1,eF=!0,eH=!1,eG=!0,eq=!1,eB={},eW=null,e$=W({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eY=null,eK=W({},["audio","video","img","source","image","track"]),eX=null,eV=W({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eJ="http://www.w3.org/1998/Math/MathML",eZ="http://www.w3.org/2000/svg",eQ="http://www.w3.org/1999/xhtml",e0=eQ,e1=!1,e2=null,e3=W({},[eJ,eZ,eQ],M),e4=W({},["mi","mo","mn","ms","mtext"]),e5=W({},["annotation-xml"]),e6=W({},["title","style","font","a","script"]),e9=null,e8=["application/xhtml+xml","text/html"],e7=null,te=null,tt=i.createElement("form"),tr=function(e){return e instanceof RegExp||e instanceof Function},tn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!te||te!==e){if(e&&"object"==typeof e||(e={}),e=$(e),e7="application/xhtml+xml"===(e9=-1===e8.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?M:I,ew=H(e,"ALLOWED_TAGS")?W({},e.ALLOWED_TAGS,e7):ev,eE=H(e,"ALLOWED_ATTR")?W({},e.ALLOWED_ATTR,e7):eN,e2=H(e,"ALLOWED_NAMESPACES")?W({},e.ALLOWED_NAMESPACES,M):e3,eX=H(e,"ADD_URI_SAFE_ATTR")?W($(eV),e.ADD_URI_SAFE_ATTR,e7):eV,eY=H(e,"ADD_DATA_URI_TAGS")?W($(eK),e.ADD_DATA_URI_TAGS,e7):eK,eW=H(e,"FORBID_CONTENTS")?W({},e.FORBID_CONTENTS,e7):e$,eS=H(e,"FORBID_TAGS")?W({},e.FORBID_TAGS,e7):$({}),eR=H(e,"FORBID_ATTR")?W({},e.FORBID_ATTR,e7):$({}),eB=!!H(e,"USE_PROFILES")&&e.USE_PROFILES,ej=!1!==e.ALLOW_ARIA_ATTR,eA=!1!==e.ALLOW_DATA_ATTR,eC=e.ALLOW_UNKNOWN_PROTOCOLS||!1,eO=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,eP=e.SAFE_FOR_TEMPLATES||!1,ek=!1!==e.SAFE_FOR_XML,eL=e.WHOLE_DOCUMENT||!1,eD=e.RETURN_DOM||!1,ez=e.RETURN_DOM_FRAGMENT||!1,eU=e.RETURN_TRUSTED_TYPE||!1,eM=e.FORCE_BODY||!1,eF=!1!==e.SANITIZE_DOM,eH=e.SANITIZE_NAMED_PROPS||!1,eG=!1!==e.KEEP_CONTENT,eq=e.IN_PLACE||!1,e_=e.ALLOWED_URI_REGEXP||ed,e0=e.NAMESPACE||eQ,e4=e.MATHML_TEXT_INTEGRATION_POINTS||e4,e5=e.HTML_INTEGRATION_POINTS||e5,eT=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&tr(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(eT.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&tr(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(eT.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(eT.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eP&&(eA=!1),ez&&(eD=!0),eB&&(ew=W({},ee),eE=[],!0===eB.html&&(W(ew,K),W(eE,et)),!0===eB.svg&&(W(ew,X),W(eE,er),W(eE,ei)),!0===eB.svgFilters&&(W(ew,V),W(eE,er),W(eE,ei)),!0===eB.mathMl&&(W(ew,Z),W(eE,en),W(eE,ei))),e.ADD_TAGS&&(ew===ev&&(ew=$(ew)),W(ew,e.ADD_TAGS,e7)),e.ADD_ATTR&&(eE===eN&&(eE=$(eE)),W(eE,e.ADD_ATTR,e7)),e.ADD_URI_SAFE_ATTR&&W(eX,e.ADD_URI_SAFE_ATTR,e7),e.FORBID_CONTENTS&&(eW===e$&&(eW=$(eW)),W(eW,e.FORBID_CONTENTS,e7)),eG&&(ew["#text"]=!0),eL&&W(ew,["html","head","body"]),ew.table&&(W(ew,["tbody"]),delete eS.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw q('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw q('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=(t=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===t&&(t=eg(h,o)),null!==t&&"string"==typeof E&&(E=t.createHTML(""));T&&T(e),te=e}},ti=W({},[...X,...V,...J]),ta=W({},[...Z,...Q]),to=function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:e0,tagName:"template"});let r=I(e.tagName),n=I(t.tagName);return!!e2[e.namespaceURI]&&(e.namespaceURI===eZ?t.namespaceURI===eQ?"svg"===r:t.namespaceURI===eJ?"svg"===r&&("annotation-xml"===n||e4[n]):!!ti[r]:e.namespaceURI===eJ?t.namespaceURI===eQ?"math"===r:t.namespaceURI===eZ?"math"===r&&e5[n]:!!ta[r]:e.namespaceURI===eQ?(t.namespaceURI!==eZ||!!e5[n])&&(t.namespaceURI!==eJ||!!e4[n])&&!ta[r]&&(e6[r]||!ti[r]):"application/xhtml+xml"===e9&&!!e2[e.namespaceURI])},tl=function(e){k(n.removed,{element:e});try{v(e).removeChild(e)}catch(t){x(e)}},ts=function(e,t){try{k(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){k(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(eD||ez)try{tl(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},tc=function(e){let r=null,n=null;if(eM)e="<remove></remove>"+e;else{let t=D(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===e9&&e0===eQ&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let a=t?t.createHTML(e):e;if(e0===eQ)try{r=new f().parseFromString(a,e9)}catch(e){}if(!r||!r.documentElement){r=N.createDocument(e0,"template",null);try{r.documentElement.innerHTML=e1?E:a}catch(e){}}let o=r.body||r.documentElement;return(e&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),e0===eQ)?A.call(r,eL?"html":"body")[0]:eL?r.documentElement:o},td=function(e){return S.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},tu=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof m)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},tm=function(e){return"function"==typeof c&&e instanceof c};function tp(e,t,r){C(e,e=>{e.call(n,t,r,te)})}let tf=function(e){let t=null;if(tp(ea.beforeSanitizeElements,e,null),tu(e))return tl(e),!0;let r=e7(e.nodeName);if(tp(ea.uponSanitizeElement,e,{tagName:r,allowedTags:ew}),ek&&e.hasChildNodes()&&!tm(e.firstElementChild)&&G(/<[/\w!]/g,e.innerHTML)&&G(/<[/\w!]/g,e.textContent)||e.nodeType===eh.progressingInstruction||ek&&e.nodeType===eh.comment&&G(/<[/\w]/g,e.data))return tl(e),!0;if(!ew[r]||eS[r]){if(!eS[r]&&tg(r)&&(eT.tagNameCheck instanceof RegExp&&G(eT.tagNameCheck,r)||eT.tagNameCheck instanceof Function&&eT.tagNameCheck(r)))return!1;if(eG&&!eW[r]){let t=v(e)||e.parentNode,r=w(e)||e.childNodes;if(r&&t){let n=r.length;for(let i=n-1;i>=0;--i){let n=b(r[i],!0);n.__removalCount=(e.__removalCount||0)+1,t.insertBefore(n,y(e))}}}return tl(e),!0}return e instanceof d&&!to(e)||("noscript"===r||"noembed"===r||"noframes"===r)&&G(/<\/no(script|embed|frames)/i,e.innerHTML)?(tl(e),!0):(eP&&e.nodeType===eh.text&&(t=e.textContent,C([eo,el,es],e=>{t=z(t,e," ")}),e.textContent!==t&&(k(n.removed,{element:e.cloneNode()}),e.textContent=t)),tp(ea.afterSanitizeElements,e,null),!1)},th=function(e,t,r){if(eF&&("id"===t||"name"===t)&&(r in i||r in tt))return!1;if(eA&&!eR[t]&&G(ec,t));else if(ej&&G(eu,t));else if(!eE[t]||eR[t]){if(!(tg(e)&&(eT.tagNameCheck instanceof RegExp&&G(eT.tagNameCheck,e)||eT.tagNameCheck instanceof Function&&eT.tagNameCheck(e))&&(eT.attributeNameCheck instanceof RegExp&&G(eT.attributeNameCheck,t)||eT.attributeNameCheck instanceof Function&&eT.attributeNameCheck(t))||"is"===t&&eT.allowCustomizedBuiltInElements&&(eT.tagNameCheck instanceof RegExp&&G(eT.tagNameCheck,r)||eT.tagNameCheck instanceof Function&&eT.tagNameCheck(r))))return!1}else if(eX[t]);else if(G(e_,z(r,ex,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===U(r,"data:")&&eY[e]);else if(eC&&!G(em,z(r,ex,"")));else if(r)return!1;return!0},tg=function(e){return"annotation-xml"!==e&&D(e,ey)},tb=function(e){tp(ea.beforeSanitizeAttributes,e,null);let{attributes:r}=e;if(!r||tu(e))return;let i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:eE,forceKeepAttr:void 0},a=r.length;for(;a--;){let{name:o,namespaceURI:l,value:s}=r[a],c=e7(o),d="value"===o?s:F(s);if(i.attrName=c,i.attrValue=d,i.keepAttr=!0,i.forceKeepAttr=void 0,tp(ea.uponSanitizeAttribute,e,i),d=i.attrValue,eH&&("id"===c||"name"===c)&&(ts(o,e),d="user-content-"+d),ek&&G(/((--!?|])>)|<\/(style|title)/i,d)){ts(o,e);continue}if(i.forceKeepAttr)continue;if(!i.keepAttr||!eO&&G(/\/>/i,d)){ts(o,e);continue}eP&&C([eo,el,es],e=>{d=z(d,e," ")});let u=e7(e.nodeName);if(!th(u,c,d)){ts(o,e);continue}if(t&&"object"==typeof h&&"function"==typeof h.getAttributeType)if(l);else switch(h.getAttributeType(u,c)){case"TrustedHTML":d=t.createHTML(d);break;case"TrustedScriptURL":d=t.createScriptURL(d)}if(d!==s)try{l?e.setAttributeNS(l,o,d):e.setAttribute(o,d),tu(e)?tl(e):P(n.removed)}catch(t){ts(o,e)}}tp(ea.afterSanitizeAttributes,e,null)},tx=function e(t){let r=null,n=td(t);for(tp(ea.beforeSanitizeShadowDOM,t,null);r=n.nextNode();)tp(ea.uponSanitizeShadowNode,r,null),tf(r),tb(r),r.content instanceof l&&e(r.content);tp(ea.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,o=null,s=null,d=null;if((e1=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!tm(e))if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw q("dirty is not a string, aborting")}else throw q("toString is not a function");if(!n.isSupported)return e;if(eI||tn(r),n.removed=[],"string"==typeof e&&(eq=!1),eq){if(e.nodeName){let t=e7(e.nodeName);if(!ew[t]||eS[t])throw q("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)(o=(i=tc("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType===eh.element&&"BODY"===o.nodeName||"HTML"===o.nodeName?i=o:i.appendChild(o);else{if(!eD&&!eP&&!eL&&-1===e.indexOf("<"))return t&&eU?t.createHTML(e):e;if(!(i=tc(e)))return eD?null:eU?E:""}i&&eM&&tl(i.firstChild);let u=td(eq?e:i);for(;s=u.nextNode();)tf(s),tb(s),s.content instanceof l&&tx(s.content);if(eq)return e;if(eD){if(ez)for(d=j.call(i.ownerDocument);i.firstChild;)d.appendChild(i.firstChild);else d=i;return(eE.shadowroot||eE.shadowrootmode)&&(d=B.call(a,d,!0)),d}let m=eL?i.outerHTML:i.innerHTML;return eL&&ew["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&G(ep,i.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+m),eP&&C([eo,el,es],e=>{m=z(m,e," ")}),t&&eU?t.createHTML(m):m},n.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tn(e),eI=!0},n.clearConfig=function(){te=null,eI=!1},n.isValidAttribute=function(e,t,r){return te||tn({}),th(e7(e),e7(t),r)},n.addHook=function(e,t){"function"==typeof t&&k(ea[e],t)},n.removeHook=function(e,t){if(void 0!==t){let r=O(ea[e],t);return -1===r?void 0:L(ea[e],r,1)[0]}return P(ea[e])},n.removeHooks=function(e){ea[e]=[]},n.removeAllHooks=function(){ea=eb()},n}();let ex=(0,c.default)(async()=>{},{loadableGenerated:{modules:["app\\products\\[productId]\\SectionProductHeader.tsx -> @/components/SizeButton"]},ssr:!1}),ey=({product:e})=>{let{addToCart:t}=(0,d._)(),r=(0,o.useRouter)(),[n,c]=(0,a.useState)(void 0),[p,b]=(0,a.useState)(!1),[_,w]=(0,a.useState)(0),[v,E]=(0,a.useState)(!1),[N,T]=(0,a.useState)(!1),[S,R]=(0,a.useState)(!1),j=(0,a.useRef)(null),A=e.description?function(e){return"string"!=typeof e?"":e}(e.description):"",C=Array.isArray(e.sizes)&&e.sizes.length>0,O=C?Math.min(...(e.sizes??[]).map(e=>e.price)):e.price;(0,a.useEffect)(()=>{n&&T(!1)},[n]),(0,a.useEffect)(()=>{let e=j.current;if(!e)return;let t=new IntersectionObserver(([e])=>{e&&R(!e.isIntersecting&&window.innerWidth<1024)},{threshold:0});t.observe(e);let r=()=>{if(e){let t=e.getBoundingClientRect();R((t.bottom<0||t.top>window.innerHeight)&&window.innerWidth<1024)}};return window.addEventListener("resize",r),()=>{t.unobserve(e),window.removeEventListener("resize",r)}},[]);let P=i=>{if(C&&!n)return void T(!0);t({...e,quantity:1,size:n?.value}),(0,g.Ml)({content_ids:[String(e.id)],content_name:e.name,content_type:"product",value:n?.price||e.salePrice||e.price,currency:"KES"});let a=n?.value?`${e.name} (Size: ${n.label}) added to cart!`:`${e.name} added to cart!`;y.oR.success(a),window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(100),"buyNow"===i&&r.push("/checkout")},k=(0,h.a)(e.images?.[_]);return(0,i.jsx)("div",{className:"relative",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("nav",{className:"mb-4 text-sm text-gray-500 overflow-x-auto whitespace-nowrap max-w-full block lg:hidden","aria-label":"Breadcrumb",children:(0,i.jsxs)("ol",{className:"flex flex-nowrap items-center gap-1 max-w-full",children:[(0,i.jsx)("li",{className:"truncate max-w-[40vw]",children:(0,i.jsx)(f(),{href:"/",className:"hover:underline",children:"Home"})}),e.category&&(0,i.jsxs)("li",{className:"truncate max-w-[40vw]",children:[(0,i.jsx)("span",{className:"mx-1",children:"/"}),(0,i.jsx)(f(),{href:`/category/${e.categorySlug}`,className:"hover:underline",children:e.category.length>18?e.category.slice(0,16)+"…":e.category})]}),(0,i.jsxs)("li",{className:"truncate max-w-[40vw] font-semibold",children:[(0,i.jsx)("span",{className:"mx-1",children:"/"}),e.name.length>18?e.name.slice(0,16)+"…":e.name]})]})}),(0,i.jsx)("nav",{className:"mb-4 text-sm text-gray-500 hidden lg:block","aria-label":"Breadcrumb",children:(0,i.jsxs)("ol",{className:"flex items-center gap-1",children:[(0,i.jsx)("li",{children:(0,i.jsx)(f(),{href:"/",className:"hover:underline",children:"Home"})}),e.category&&(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"mx-1",children:"/"}),(0,i.jsx)(f(),{href:`/category/${e.categorySlug}`,className:"hover:underline",children:e.category})]}),(0,i.jsxs)("li",{className:"font-semibold",children:[(0,i.jsx)("span",{className:"mx-1",children:"/"}),e.name]})]})}),(0,i.jsxs)("div",{className:"relative flex flex-col lg:flex-row bg-white/95 shadow-[0_8px_30px_rgb(0,0,0,0.12)] rounded-2xl p-4 md:p-8 gap-8",children:[(0,i.jsxs)("div",{className:"relative w-full lg:w-[60%] xl:w-[65%] flex flex-col gap-8",children:[(0,i.jsx)("div",{className:"relative aspect-square w-full bg-white rounded-2xl shadow-[0_8px_25px_rgb(0,0,0,0.08)] overflow-hidden",children:(0,i.jsx)(u.A,{src:k,alt:e.name,width:800,height:600,quality:90,priority:!0,preload:!0,loading:"eager",sizes:"(max-width: 1024px) 100vw, 50vw",className:"object-contain transition-opacity duration-700 ease-in-out group-hover:scale-110 rounded-xl w-full h-full"})}),(0,i.jsx)("div",{className:"grid grid-cols-4 gap-3",children:e.images.map((t,r)=>(0,i.jsx)("button",{className:`relative aspect-square overflow-hidden rounded-xl transition-all duration-200 ${r===_}`,onClick:()=>w(r),children:(0,i.jsx)(u.A,{src:(0,h.a)(t),alt:e.name,width:120,height:120,quality:60,loading:"lazy",className:`object-contain w-full h-full ${r===_?"ring-2 ring-primary":""}`})},r))}),(0,i.jsx)("div",{className:"block lg:hidden w-full",children:(0,i.jsxs)("div",{className:"w-full bg-white/95 rounded-2xl shadow-[0_8px_25px_rgb(0,0,0,0.08)] p-6 flex flex-col gap-4",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-2",children:e.name}),(0,i.jsxs)("div",{className:"mb-4 flex items-center space-x-4",children:[(0,i.jsx)("span",{className:"text-2xl font-bold text-primary",children:C?n?`KES ${n.price.toLocaleString()}`:`From\xa0KES\xa0${O.toLocaleString()}`:`KES\xa0${e.price.toLocaleString()}`}),!C&&e.salePrice&&(0,i.jsxs)("span",{className:"text-lg text-gray-500 line-through",children:["KES ",e.salePrice.toLocaleString()]})]}),C&&(0,i.jsxs)(l.P.div,{className:`rounded-md ${N?"ring-2 ring-red-500 ring-offset-1":""}`,animate:N?{x:[-3,3,-3,3,0]}:{x:0},transition:{type:"spring",stiffness:500,damping:15,duration:.4},children:[(0,i.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Select Size"}),(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:e.sizes?.map(t=>(0,i.jsx)(ex,{size:t,selected:n?.value===t.value,onSelect:c,disabled:!e.inStock},t.value))}),!n&&(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Please select a size to continue"})]}),(0,i.jsx)(l.P.div,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"w-full",children:(0,i.jsx)(m.A,{className:"w-full justify-center bg-primary hover:bg-primary/90 text-white font-semibold rounded-lg py-3 transition-all duration-150 shadow-[0_4px_12px_rgb(0,0,0,0.08)] hover:shadow-[0_12px_28px_rgb(0,0,0,0.15)] disabled:opacity-60 disabled:cursor-not-allowed disabled:shadow-none disabled:hover:bg-primary",onClick:()=>P("addToCart"),disabled:!e.inStock||C&&!n,children:"Add to Cart"})}),(0,i.jsx)(l.P.div,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"w-full",children:(0,i.jsx)("button",{onClick:()=>P("buyNow"),className:"flex w-full items-center justify-center gap-2 rounded-lg border-2 border-primary bg-transparent py-[10px] px-4 font-semibold text-primary transition-all duration-150 hover:bg-primary/10 disabled:opacity-60 disabled:cursor-not-allowed disabled:border-gray-300 disabled:text-gray-400 disabled:hover:bg-transparent",disabled:!e.inStock||C&&!n,children:"Buy Now"})})]})}),(0,i.jsx)("div",{className:"block lg:hidden w-full",children:(0,i.jsxs)("div",{className:"w-full bg-white/95 rounded-2xl shadow-[0_8px_25px_rgb(0,0,0,0.08)] p-6 mt-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Product Description"}),(0,i.jsx)("div",{className:`prose prose-sm product-description max-w-none ${!v?"line-clamp-3":""}`,dangerouslySetInnerHTML:{__html:A}}),e.description.length>200&&(0,i.jsx)("button",{onClick:()=>E(!v),className:"mt-4 text-gray-600 hover:text-gray-900 font-medium text-sm",children:v?"Show Less":"Read More"})]})})]}),(0,i.jsx)("div",{className:"mt-8 lg:mt-0 lg:w-[40%] lg:pl-8 xl:pl-12 hidden lg:flex justify-center",children:(0,i.jsxs)("div",{className:"w-full max-w-md bg-white/95 rounded-2xl shadow-[0_8px_25px_rgb(0,0,0,0.08)] p-6 flex flex-col gap-4",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-2",children:e.name}),(0,i.jsxs)("div",{className:"mb-4 flex items-center space-x-4",children:[(0,i.jsx)("span",{className:"text-2xl font-bold text-primary",children:C?n?`KES ${n.price.toLocaleString()}`:`From\xa0KES\xa0${O.toLocaleString()}`:`KES\xa0${e.price.toLocaleString()}`}),!C&&e.salePrice&&(0,i.jsxs)("span",{className:"text-lg text-gray-500 line-through",children:["KES ",e.salePrice.toLocaleString()]})]}),C&&(0,i.jsxs)(l.P.div,{className:`rounded-md ${N?"ring-2 ring-red-500 ring-offset-1":""}`,animate:N?{x:[-3,3,-3,3,0]}:{x:0},transition:{type:"spring",stiffness:500,damping:15,duration:.4},children:[(0,i.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Select Size"}),(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:e.sizes?.map(t=>(0,i.jsx)(ex,{size:t,selected:n?.value===t.value,onSelect:c,disabled:!e.inStock},t.value))}),!n&&(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Please select a size to continue"})]}),(0,i.jsx)(l.P.div,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"w-full",children:(0,i.jsx)(m.A,{className:"w-full justify-center bg-primary hover:bg-primary/90 text-white font-semibold rounded-lg py-3 transition-all duration-150 shadow-[0_4px_12px_rgb(0,0,0,0.08)] hover:shadow-[0_12px_28px_rgb(0,0,0,0.15)] disabled:opacity-60 disabled:cursor-not-allowed disabled:shadow-none disabled:hover:bg-primary",onClick:()=>P("addToCart"),disabled:!e.inStock||C&&!n,children:"Add to Cart"})}),(0,i.jsx)(l.P.div,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"w-full",children:(0,i.jsx)("button",{onClick:()=>P("buyNow"),className:"flex w-full items-center justify-center gap-2 rounded-lg border-2 border-primary bg-transparent py-[10px] px-4 font-semibold text-primary transition-all duration-150 hover:bg-primary/10 disabled:opacity-60 disabled:cursor-not-allowed disabled:border-gray-300 disabled:text-gray-400 disabled:hover:bg-transparent",disabled:!e.inStock||C&&!n,children:"Buy Now"})})]})})]}),(0,i.jsx)("div",{className:"mt-8 hidden lg:block w-full",children:(0,i.jsxs)("div",{className:"w-full max-w-5xl mx-auto bg-white/95 rounded-2xl shadow-[0_8px_25px_rgb(0,0,0,0.08)] p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Product Description"}),(0,i.jsx)("div",{className:`prose prose-sm product-description max-w-none ${!v?"line-clamp-3":""}`,dangerouslySetInnerHTML:{__html:A}}),e.description.length>200&&(0,i.jsx)("button",{onClick:()=>E(!v),className:"mt-4 text-gray-600 hover:text-gray-900 font-medium text-sm",children:v?"Show Less":"Read More"})]})}),(0,i.jsx)(s.N,{children:p&&(0,i.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 p-4",onClick:()=>b(!1),children:(0,i.jsx)("div",{className:"relative h-full w-full",children:(0,i.jsx)(u.A,{src:(0,h.a)(k),alt:e.name,width:1200,height:800,loading:"eager",quality:75,className:"object-contain rounded-lg w-full h-full"})})})}),(0,i.jsx)(x,{product:e,isVisible:S,onAddToCart:()=>P("addToCart"),selectedSize:n,currentPrice:n?.price||e.salePrice||e.price,hasSizes:C,isAddToCartDisabled:!e.inStock||C&&!n})]})})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},60165:(e,t,r)=>{"use strict";r.d(t,{G:()=>n,a:()=>a});let n="/images/placeholder.png",i="https://tafojbtftmihrheeyoky.supabase.co";function a(e,t){let r;if(!e||("string"==typeof e?r=e:e&&"object"==typeof e&&(r=e.web_image_url||e.web_optimized_image_url||e.feed_image_url||e.url||e.src),!r))return n;if(r.startsWith("http")||r.startsWith("/"))return r;let a=t?.bucket||"product-images";return r.includes("../")||r.includes("..\\")?n:i?`${i}/storage/v1/object/public/${a}/${r}`:`/${a}/${r}`}},60952:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\toto-minimalist\\\\src\\\\app\\\\products\\\\[productId]\\\\SectionProductHeader.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\toto-minimalist\\src\\app\\products\\[productId]\\SectionProductHeader.tsx","default")},62765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return i}});let n=""+r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function i(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63511:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var n=r(39398);let i=async(e,t)=>{let{timeout:r=3e4}=t||{},n=new AbortController,i=setTimeout(()=>n.abort(),r),a=await fetch(e,{...t,signal:n.signal});return clearTimeout(i),a},a=(0,n.createClient)("https://tafojbtftmihrheeyoky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhZm9qYnRmdG1paHJoZWV5b2t5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3Mzk3MTYsImV4cCI6MjA2MDMxNTcxNn0.vdL2odCYREv1GykTt8wx76lmhaHmDkBYcC65L4Z_vXo",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{fetch:i}})},70899:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},71042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,o.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,s.isDynamicServerError)(t)||(0,l.isDynamicPostpone)(t)||(0,i.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(68388),i=r(52637),a=r(51846),o=r(31162),l=r(84971),s=r(98479);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72736:(e,t,r)=>{Promise.resolve().then(r.bind(r,52518)),Promise.resolve().then(r.bind(r,60926)),Promise.resolve().then(r.bind(r,78294))},74075:e=>{"use strict";e.exports=require("zlib")},78294:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(43210),i=r(6747);let a=({product:e})=>((0,n.useEffect)(()=>{e&&(0,i.gO)({content_name:e.name,content_ids:[String(e.id)],content_type:"product",value:e.price,currency:"KES"})},[e]),null)},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},86897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return u},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return c},permanentRedirect:function(){return s},redirect:function(){return l}});let n=r(52836),i=r(49026),a=r(19121).actionAsyncStorage;function o(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let a=Object.defineProperty(Error(i.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a.digest=i.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",a}function l(e,t){var r;throw null!=t||(t=(null==a||null==(r=a.getStore())?void 0:r.isAction)?i.RedirectType.push:i.RedirectType.replace),o(e,t,n.RedirectStatusCode.TemporaryRedirect)}function s(e,t){throw void 0===t&&(t=i.RedirectType.replace),o(e,t,n.RedirectStatusCode.PermanentRedirect)}function c(e){return(0,i.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function u(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},97576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return i.RedirectType},forbidden:function(){return o.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return l.unauthorized},unstable_rethrow:function(){return s.unstable_rethrow}});let n=r(86897),i=r(49026),a=r(62765),o=r(48976),l=r(70899),s=r(163);class c extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new c}delete(){throw new c}set(){throw new c}sort(){throw new c}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[4243,3605,6945,4036],()=>r(42078));module.exports=n})();