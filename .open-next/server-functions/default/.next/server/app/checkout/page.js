(()=>{var e={};e.id=8279,e.ids=[8279],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3530:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var i=t(65239),a=t(48088),s=t(88170),o=t.n(s),n=t(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let c={children:["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,54787)),"C:\\Projects\\toto-minimalist\\src\\app\\checkout\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(t.bind(t,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,33821)),"C:\\Projects\\toto-minimalist\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,67393)),"C:\\Projects\\toto-minimalist\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,54413)),"C:\\Projects\\toto-minimalist\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,51520))).default(e)],apple:[async e=>(await Promise.resolve().then(t.bind(t,94650))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Projects\\toto-minimalist\\src\\app\\checkout\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},54787:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});let i=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\toto-minimalist\\\\src\\\\app\\\\checkout\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\toto-minimalist\\src\\app\\checkout\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79534:(e,r,t)=>{"use strict";let i,a;t.r(r),t.d(r,{default:()=>Z});var s=t(60687),o=t(43210),n=t(97756),l=t(91282),c=t(16189);let d=o.forwardRef(function({title:e,titleId:r,...t},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},t),e?o.createElement("title",{id:r},e):null,o.createElement("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"}))}),m=o.forwardRef(function({title:e,titleId:r,...t},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},t),e?o.createElement("title",{id:r},e):null,o.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}),u=o.forwardRef(function({title:e,titleId:r,...t},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},t),e?o.createElement("title",{id:r},e):null,o.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}),p=o.forwardRef(function({title:e,titleId:r,...t},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},t),e?o.createElement("title",{id:r},e):null,o.createElement("path",{d:"M3.375 4.5C2.339 4.5 1.5 5.34 1.5 6.375V13.5h12V6.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM13.5 15h-12v2.625c0 1.035.84 1.875 1.875 1.875h.375a3 3 0 1 1 6 0h3a.75.75 0 0 0 .75-.75V15Z"}),o.createElement("path",{d:"M8.25 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM15.75 6.75a.75.75 0 0 0-.75.75v11.25c0 .087.015.17.042.248a3 3 0 0 1 5.958.464c.853-.175 1.522-.935 1.464-1.883a18.659 18.659 0 0 0-3.732-10.104 1.837 1.837 0 0 0-1.47-.725H15.75Z"}),o.createElement("path",{d:"M19.5 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}),x=o.forwardRef(function({title:e,titleId:r,...t},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},t),e?o.createElement("title",{id:r},e):null,o.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}),h=o.forwardRef(function({title:e,titleId:r,...t},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},t),e?o.createElement("title",{id:r},e):null,o.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))});var y=t(78037),b=t(79481),f=t(55511);let g=e=>{!i||i.length<e?(i=Buffer.allocUnsafe(128*e),f.randomFillSync(i),a=0):a+e>i.length&&(f.randomFillSync(i),a=0),a+=e},v=(e=21)=>{g(e|=0);let r="";for(let t=a-e;t<a;t++)r+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&i[t]];return r};async function j(e){try{let r=v(10),t=e.is_immediate_payment||!1,i=t?e.discount_percentage||5:0,a=e.total,s=t?Number((a*(1-i/100)).toFixed(2)):a,o=t&&e.mpesa_transaction_code?"paid":"pending",n="paid"===o?new Date().toISOString():null,{error:l}=await b.N.from("orders").insert({id:r,...e,status:e.status||"pending",created_at:new Date().toISOString(),is_immediate_payment:t,discount_percentage:i,original_amount:a,discounted_amount:s,payment_status:o,payment_date:n,order_confirmed:e.order_confirmed||!0,order_confirmation_date:new Date().toISOString()});if(l)throw l;return{success:!0,orderId:r}}catch(e){return{success:!1,error:"Failed to create order. Please try again."}}}var w=t(99446),N=t(17335);let P=({children:e,motionKey:r,animationDirection:t})=>(0,s.jsx)(n.P.div,{initial:{opacity:0,x:1===t?150:-150},animate:{opacity:1,x:0},exit:{opacity:0,x:1===t?-150:150},transition:{type:"tween",ease:"easeOut",duration:.25},className:"w-full",children:e},r),k=[{id:1,title:"Delivery Options",icon:d},{id:2,title:"Contact Information",icon:m},{id:3,title:"Confirm Order",icon:u}],C=(e,r)=>{if(!e)return"";let t=e.split(" ");return t.length>r?t.slice(0,r).join(" ")+"...":e},L=({cartItems:e,totalAmount:r})=>(0,s.jsxs)("div",{className:"bg-primary bg-opacity-5 p-6 md:p-8 rounded-xl shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 border-b border-gray-200 pb-4",children:"Order Summary"}),(0,s.jsx)("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:e.length>0?e.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center space-x-4 py-3 border-b border-gray-100 last:border-b-0",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:(0,s.jsx)(w.A,{src:function(e){if(!e)return"/assets/images/logo.png";if(e.images&&Array.isArray(e.images)&&e.images.length>0){let r=e.images[0];if("object"==typeof r&&r?.url)return(0,N.a)(r.url);if("string"==typeof r)return(0,N.a)(r)}return"/assets/images/logo.png"}(e),alt:e.name||"Product Image",width:64,height:64,className:"object-cover w-full h-full"})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-800",children:C(e.name,5)}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",e.quantity]})]}),(0,s.jsxs)("p",{className:"text-sm font-semibold text-primary whitespace-nowrap",children:["Ksh ",(e.price*(e.quantity||1)).toLocaleString()]})]},e.id||r)):(0,s.jsx)("p",{className:"text-sm text-gray-500 py-4",children:"Your cart is empty."})}),e.length>0&&(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-lg font-semibold text-gray-800",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["Ksh ",r.toLocaleString()]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Note: Delivery fees are not included and will be communicated upon order confirmation."})]})]}),Z=()=>{let e=(0,c.useRouter)(),{items:r,total:t,clearCart:i,isCartLoading:a}=(0,y._)(),b=(0,o.useRef)(null),[f,g]=(0,o.useState)(1),[v,w]=(0,o.useState)({deliveryZone:"",deliveryLocation:"",nairobiSpecificLocation:"",outsideNairobiLocation:"",name:"",phone:"",confirmPhone:"",orderId:void 0}),[N,C]=(0,o.useState)({}),[Z,_]=(0,o.useState)(!1),[S,E]=(0,o.useState)(!1),[O,X]=(0,o.useState)(1);(0,o.useEffect)(()=>{b.current&&(window.innerWidth<768?window.scrollTo({top:b.current.offsetTop-20,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"}))},[f]);let q=e=>{let{name:r,value:t}=e.target;w(e=>({...e,[r]:t})),"deliveryZone"===r&&w(e=>({...e,nairobiSpecificLocation:"",outsideNairobiLocation:"",deliveryLocation:"nairobi"===t?"home_office_delivery":""})),N[r]&&C(e=>({...e,[r]:void 0}))},R=e=>{let r={};return e.deliveryZone||(r.deliveryZone="Please select a delivery zone."),"nairobi"!==e.deliveryZone||e.nairobiSpecificLocation?.trim()||(r.nairobiSpecificLocation="Please provide your specific location in Nairobi (e.g., street name, building, landmark)."),"outside"!==e.deliveryZone||e.outsideNairobiLocation?.trim()||(r.outsideNairobiLocation="Please provide your location outside Nairobi."),r},A=()=>{let e={};return v.name?.trim()||(e.name="Full name is required."),v.phone?.trim()?/^(?:\+254|0)(?:1|7)\d{8}$/.test(v.phone.trim())||(e.phone="Invalid Kenyan phone. Use format +254X XX XXX XXX, 07XXXXXXXX or 01XXXXXXXX."):e.phone="Phone number is required.",v.confirmPhone?.trim()?v.phone?.trim()!==v.confirmPhone?.trim()&&(e.confirmPhone="Phone numbers do not match."):e.confirmPhone="Please confirm your phone number.",C(e),0===Object.keys(e).length},M=async()=>{let a=R(v),s=A();if(Object.keys(a).length>0||!s){C(e=>({...e,...a,general:"Please correct the errors before submitting."})),Object.keys(a).length>0?g(1):s||g(2);return}_(!0),C({});try{let a="";a="nairobi"===v.deliveryZone?v.nairobiSpecificLocation||"Nairobi (Specific location not provided)":v.outsideNairobiLocation||"Outside Nairobi (Specific location not provided)";let s={customer_name:v.name||"",phone:v.phone||"",delivery_zone:v.deliveryZone||"",location:a,items:r,total:t,status:"pending",payment_status:"pending"},o=await j(s);o&&o.success&&o.orderId?(w(e=>({...e,orderId:o.orderId})),i(),E(!0),setTimeout(()=>{e.push("/")},3e3)):C({general:o?.error||"Failed to create order. Please try again."})}catch(e){C({general:"An unexpected error occurred while submitting your order. Please try again."})}finally{_(!1)}};return(0,o.useEffect)(()=>{0!==r.length||S||e.replace("/cart")},[r,e,S,f]),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 py-8 md:py-12 px-4 sm:px-6 lg:px-8 font-karla",children:[(0,s.jsx)(l.N,{children:a&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-2xl text-center max-w-md w-full",children:[(0,s.jsx)("div",{className:"bg-primary bg-opacity-10 rounded-full p-5 mb-5 inline-block",children:(0,s.jsx)(u,{className:"w-16 h-16 text-primary"})}),(0,s.jsx)("h3",{className:"text-3xl font-bold text-primary-dark mb-3",children:"Loading Cart..."}),(0,s.jsx)("p",{className:"text-gray-600 mb-6 text-base",children:"Please wait while we load your cart items."})]})})}),(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[r.length>0&&(0,s.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,s.jsxs)("button",{type:"button",onClick:()=>e.replace("/cart"),className:"flex items-center justify-center gap-2 text-sm font-medium text-gray-600 hover:text-primary disabled:opacity-60 transition-all duration-200 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 w-full sm:w-auto order-2 sm:order-1 disabled:cursor-not-allowed",children:[(0,s.jsx)(h,{className:"w-4 h-4"}),"Back to Cart"]})}),(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-2 text-center font-karla",children:"Checkout"}),(0,s.jsx)("p",{className:"text-gray-600 text-center mb-8 md:mb-12 font-karla",children:"Please fill in your details to complete your order."}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 lg:gap-12",children:[(0,s.jsx)("div",{className:"w-full md:w-1/3 md:order-last",children:(0,s.jsx)(L,{cartItems:r,totalAmount:t})}),(0,s.jsxs)("div",{ref:b,className:"w-full md:w-2/3 md:order-first bg-white p-6 sm:p-8 rounded-xl shadow-xl",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"flex justify-between mb-1",children:k.map((e,r)=>(0,s.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,s.jsx)("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 text-base font-bold transition-all duration-200 ${f>=e.id?"bg-primary border-primary text-white":"bg-white border-gray-300 text-gray-400"}`,children:(0,s.jsx)(e.icon,{className:"w-6 h-6"})}),r<k.length-1&&(0,s.jsx)("div",{className:"flex-1 h-1 bg-gray-200 mx-2 rounded-full"})]},e.id))})}),(0,s.jsx)(l.N,{initial:!1,custom:O,mode:"wait",children:(()=>{let e=k.find(e=>e.id===f);switch(f){case 1:return(0,s.jsxs)(P,{motionKey:`step-${f}`,animationDirection:O,children:[e&&(0,s.jsxs)("div",{className:"flex items-center text-2xl font-semibold text-gray-800 mb-6 pb-4 border-b border-gray-200",children:[(0,s.jsx)(e.icon,{className:"w-7 h-7 text-primary mr-3"}),e.title]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Choose Delivery Zone"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)(n.P.div,{whileTap:{scale:.97},className:`p-4 border rounded-lg cursor-pointer transition-colors duration-200 ease-in-out flex justify-between items-center ${"nairobi"===v.deliveryZone?"border-primary ring-2 ring-primary bg-primary/10":"border-gray-300 hover:border-gray-400"} ${N.deliveryZone&&!v.deliveryZone?"border-red-500 bg-red-50":""}`,onClick:()=>q({target:{name:"deliveryZone",value:"nairobi"}}),children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(p,{className:"w-5 h-5 mr-2 text-primary"})," Nairobi Area"]}),"nairobi"===v.deliveryZone&&(0,s.jsx)(n.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.2,ease:"easeOut"},children:(0,s.jsx)(x,{className:"w-5 h-5 text-primary"})})]}),(0,s.jsxs)(n.P.div,{whileTap:{scale:.97},className:`p-4 border rounded-lg cursor-pointer transition-colors duration-200 ease-in-out flex justify-between items-center ${"outside"===v.deliveryZone?"border-primary ring-2 ring-primary bg-primary/10":"border-gray-300 hover:border-gray-400"} ${N.deliveryZone&&!v.deliveryZone?"border-red-500 bg-red-50":""}`,onClick:()=>q({target:{name:"deliveryZone",value:"outside"}}),children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(d,{className:"w-5 h-5 mr-2 text-primary"})," Outside Nairobi"]}),"outside"===v.deliveryZone&&(0,s.jsx)(n.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.2,ease:"easeOut"},children:(0,s.jsx)(x,{className:"w-5 h-5 text-primary"})})]})]}),N.deliveryZone&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:N.deliveryZone})]}),"nairobi"===v.deliveryZone&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-3 pt-3",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"nairobiSpecificLocation",className:"block text-sm font-medium text-gray-700",children:"Your Location in Nairobi"}),(0,s.jsx)("input",{type:"text",id:"nairobiSpecificLocation",name:"nairobiSpecificLocation",value:v.nairobiSpecificLocation||"",onChange:q,placeholder:"Enter your exact location (e.g., street, building, landmark)",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${N.nairobiSpecificLocation?"border-red-500 bg-red-50":"border-gray-300"}`}),N.nairobiSpecificLocation&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:N.nairobiSpecificLocation}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Please be specific with your location to ensure smooth delivery."})]})}),"outside"===v.deliveryZone&&(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-3 pt-3 border-t border-gray-100",children:[(0,s.jsx)("label",{htmlFor:"outsideNairobiLocation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Town/Location outside Nairobi"}),(0,s.jsx)("input",{type:"text",id:"outsideNairobiLocation",name:"outsideNairobiLocation",value:v.outsideNairobiLocation||"",onChange:q,placeholder:"e.g., Nakuru Town, Moi Avenue",className:`w-full p-3 border rounded-lg focus:ring-2 transition-colors ${N.outsideNairobiLocation?"border-red-500 focus:ring-red-500 focus:border-red-500 bg-red-50":"border-gray-300 focus:ring-primary focus:border-primary"}`}),N.outsideNairobiLocation&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:N.outsideNairobiLocation})]})]})]});case 2:return(0,s.jsxs)(P,{motionKey:`step-${f}`,animationDirection:O,children:[e&&(0,s.jsxs)("div",{className:"flex items-center text-2xl font-semibold text-gray-800 mb-6 pb-4 border-b border-gray-200",children:[(0,s.jsx)(e.icon,{className:"w-7 h-7 text-primary mr-3"}),e.title]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,s.jsx)("input",{type:"text",name:"name",id:"name",value:v.name,onChange:q,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",placeholder:"Jane Doe"}),N.name&&(0,s.jsx)("p",{className:"text-xs text-red-500 mt-1",children:N.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",name:"phone",id:"phone",value:v.phone,onChange:q,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",placeholder:"0712 345678"}),N.phone&&(0,s.jsx)("p",{className:"text-xs text-red-500 mt-1",children:N.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPhone",className:"block text-sm font-medium text-gray-700",children:"Confirm Phone Number"}),(0,s.jsx)("input",{type:"tel",name:"confirmPhone",id:"confirmPhone",value:v.confirmPhone,onChange:q,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",placeholder:"Confirm your phone number"}),N.confirmPhone&&(0,s.jsx)("p",{className:"text-xs text-red-500 mt-1",children:N.confirmPhone})]})]})]});case 3:return(0,s.jsxs)(P,{motionKey:`step-${f}`,animationDirection:O,children:[e&&(0,s.jsxs)("div",{className:"flex items-center text-2xl font-semibold text-gray-800 mb-6 pb-4 border-b border-gray-200",children:[(0,s.jsx)(e.icon,{className:"w-7 h-7 text-primary mr-3"}),e.title]}),(0,s.jsx)("p",{className:"text-gray-700 mb-4",children:"Please review your delivery and contact information. The order summary on the right shows the items in your cart."}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:'Click "Place Order" to finalize your purchase. We will contact you shortly after to confirm delivery details and fees.'}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-xl shadow-md p-6 mb-8",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-primary mb-3 flex items-center",children:[(0,s.jsx)(m,{className:"w-6 h-6 mr-2"})," Contact Information"]}),(0,s.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 pl-8",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Name:"})," ",v.name]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Phone:"})," ",v.phone]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-primary mb-3 flex items-center",children:[(0,s.jsx)(d,{className:"w-6 h-6 mr-2"})," Delivery Details"]}),(0,s.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 pl-8",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Zone:"})," ","nairobi"===v.deliveryZone?"Nairobi Area":"Outside Nairobi"]}),"nairobi"===v.deliveryZone&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Option:"})," ","pickup_cbd"===v.deliveryLocation?"Pickup from CBD":"Home or Office Delivery"]}),"home_office_delivery"===v.deliveryLocation&&v.nairobiSpecificLocation&&(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Specific Location:"})," ",v.nairobiSpecificLocation]})]}),"outside"===v.deliveryZone&&v.outsideNairobiLocation&&(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Location:"})," ",v.outsideNairobiLocation]})]})]})]}),N.general&&(0,s.jsx)("div",{className:"my-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md",children:(0,s.jsx)("p",{children:N.general})})]});default:return null}})()}),!S&&f<=k.length&&(0,s.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-between",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{X(-1),g(e=>e-1)},disabled:1===f||Z,className:"flex items-center justify-center gap-2 text-sm font-medium text-gray-600 hover:text-primary disabled:opacity-60 transition-all duration-200 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 w-full sm:w-auto order-2 sm:order-1 disabled:cursor-not-allowed",children:[(0,s.jsx)(h,{className:"w-4 h-4"}),"Back"]}),(0,s.jsx)("button",{type:"button",onClick:()=>{if(1===f){let e=R(v);C(e),Object.keys(e).length>0||(X(1),g(2))}else if(2===f){if(!A())return;X(1),g(3)}else f===k.length&&M()},disabled:Z,className:`w-full sm:w-auto rounded-lg shadow-md hover:shadow-lg !py-3 !px-6 text-base order-1 sm:order-2 flex-grow disabled:cursor-not-allowed font-karla ${Z?"bg-gray-400":"bg-primary hover:bg-primary-dark text-white"} disabled:bg-gray-300 disabled:text-gray-500`,children:Z?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):f===k.length?"Place Order":"Next"})]})]})]}),S&&(0,s.jsx)(l.N,{children:(0,s.jsx)(n.P.div,{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,s.jsxs)(n.P.div,{className:"bg-white p-8 rounded-xl shadow-2xl text-center max-w-md w-full",initial:{scale:.8,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.8,y:50,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:[(0,s.jsx)(n.P.div,{initial:{scale:.7,rotate:-20,opacity:0},animate:{scale:1.1,rotate:0,opacity:1},transition:{type:"spring",stiffness:300,damping:12,delay:.2},className:"bg-primary bg-opacity-10 rounded-full p-5 mb-5 inline-block",children:(0,s.jsx)(u,{className:"w-16 h-16 text-primary"})}),(0,s.jsx)("h3",{className:"text-3xl font-bold text-primary-dark mb-3",children:"Order Placed Successfully!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6 text-base",children:"We will contact you shortly to confirm your order and arrange delivery. Thank you for shopping with us!"}),(0,s.jsx)(n.P.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-primary hover:bg-primary-dark text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-75 transition-all duration-150 ease-in-out font-karla",onClick:()=>{E(!1),e.replace("/")},children:"Continue Shopping"})]})})})]})]})}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96881:(e,r,t)=>{Promise.resolve().then(t.bind(t,79534))},97553:(e,r,t)=>{Promise.resolve().then(t.bind(t,54787))}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[4243,3605,6945,4036],()=>t(3530));module.exports=i})();