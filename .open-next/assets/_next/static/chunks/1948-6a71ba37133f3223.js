"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1948],{48119:(e,r,i)=>{i.d(r,{default:()=>g});var t=i(95155),a=i(12115),s=i(52643),l=i(26072),n=i(96602),c=i(68261),d=i(40563);let o={title:"Trending Now",description:"Discover the most popular toys this season"},m=async()=>{var e;let{error:r}=await s.N.from("products").select("id").limit(1);if(null==r||null==(e=r.message)?void 0:e.includes("does not exist"))throw Error("Store is being set up. Please check back soon.");let{data:i,error:t}=await s.N.from("products").select("\n      id,\n      name,\n      description,\n      price,\n      stock,\n      status,\n      is_featured,\n      is_trending,\n      trending_order,\n      sku,\n      slug,\n      category_id,\n      images,\n      categories:categories(name, slug)\n    ").eq("status","active").eq("is_trending",!0).order("trending_order",{ascending:!0}).order("created_at",{ascending:!1}).limit(12);if(t)throw Error("Unable to load trending products at this time.");return i&&0!==i.length?i.map((e,r)=>{var i,t;return{id:e.id,name:e.name,description:e.description,price:e.price,salePrice:void 0,images:Array.isArray(e.images)?e.images.map(e=>(0,d.a)(e)).filter(Boolean).map(e=>({url:e})):[{url:"/images/placeholder.png"}],sku:e.sku,slug:e.slug||e.sku.toLowerCase(),category:(null==(i=e.categories)?void 0:i.name)||"",categorySlug:(null==(t=e.categories)?void 0:t.slug)||"",ageRange:"",inStock:e.stock>0,isFeatured:e.is_featured||!1,rating:5,reviews:0,index:r+1,sizes:[{value:"0-2",label:"0-2 years",price:e.price,inStock:!0},{value:"2-4",label:"2-4 years",price:e.price,inStock:!0},{value:"4-6",label:"4-6 years",price:e.price,inStock:!0},{value:"6+",label:"6+ years",price:e.price,inStock:!0}]}}):[]},g=()=>{let{data:e=[],error:r,isLoading:i}=(0,l.Ay)("trending-products",m,{revalidateOnFocus:!1}),[s,d]=(0,a.useState)(1),g=Math.ceil(e.length/12),p=e.slice((s-1)*12,12*s);return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(c.A,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"inline-block align-middle animate-pulse mr-2",style:{verticalAlign:"middle"},children:(0,t.jsxs)("svg",{width:"28",height:"24",viewBox:"0 0 28 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M14 3C14 3 10 6 10 9.5C10 11.5 11 13 14 13C17 13 18 11.5 18 9.5C18 6 14 3 14 3Z",fill:"#76D7D7"}),(0,t.jsx)("path",{d:"M14 3C14 3 18 6 18 9.5C18 11.5 17 13 14 13C11 13 10 11.5 10 9.5C10 6 14 3 14 3Z",fill:"#59B5B5"}),(0,t.jsx)("path",{d:"M14 5C14 5 8 9 8 13C8 16.5 11 19 14 19C17 19 20 16.5 20 13C20 9 14 5 14 5Z",fill:"#76D7D7"}),(0,t.jsx)("path",{d:"M14 5C20 9 20 13 20 13C20 16.5 17 19 14 19C17 19 20 16.5 20 13C20 9 14 5 14 5Z",fill:"#59B5B5",fillOpacity:"0.8"})]})}),o.title]}),description:o.description}),(0,t.jsxs)("div",{className:"mt-8",children:[i&&(0,t.jsx)("div",{className:"text-center text-gray-500",children:"Loading trending products..."}),r&&(0,t.jsxs)("div",{className:"text-center text-red-500",children:["Error: ",r.message]}),!i&&!r&&0===e.length&&(0,t.jsx)("div",{className:"text-center text-gray-500",children:"No trending products available at the moment."}),!i&&!r&&e.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"block sm:hidden -mx-4 px-4 overflow-x-auto no-scrollbar",children:(0,t.jsx)("div",{className:"flex gap-4",children:e.map((e,r)=>(0,t.jsx)("div",{className:"min-w-[48vw] max-w-[60vw]",children:(0,t.jsx)(n.default,{product:e,showIndex:!0,priority:r<2})},e.id))})}),(0,t.jsxs)("div",{className:"hidden sm:block",children:[(0,t.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:p.map((e,r)=>(0,t.jsx)(n.default,{product:e,showIndex:!0,priority:r<6},e.id))}),g>1&&(0,t.jsxs)("div",{className:"flex justify-center mt-6 gap-2",children:[(0,t.jsx)("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-primary hover:text-white transition",onClick:()=>d(s-1),disabled:1===s,children:"Prev"}),Array.from({length:g}).map((e,r)=>(0,t.jsx)("button",{className:"px-3 py-1 rounded ".concat(s===r+1?"bg-primary text-white":"bg-gray-100 hover:bg-primary hover:text-white"),onClick:()=>d(r+1),children:r+1},r)),(0,t.jsx)("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-primary hover:text-white transition",onClick:()=>d(s+1),disabled:s===g,children:"Next"})]})]})]})]})]})}},52643:(e,r,i)=>{i.d(r,{N:()=>s});var t=i(34982);let a=async(e,r)=>{let{timeout:i=3e4}=r||{},t=new AbortController,a=setTimeout(()=>t.abort(),i),s=await fetch(e,{...r,signal:t.signal});return clearTimeout(a),s},s=(0,t.UU)("https://tafojbtftmihrheeyoky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhZm9qYnRmdG1paHJoZWV5b2t5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3Mzk3MTYsImV4cCI6MjA2MDMxNTcxNn0.vdL2odCYREv1GykTt8wx76lmhaHmDkBYcC65L4Z_vXo",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{fetch:a}})},54675:(e,r,i)=>{i.d(r,{default:()=>u});var t=i(95155),a=i(12115),s=i(6874),l=i.n(s),n=i(52643),c=i(26072),d=i(96602),o=i(68261),m=i(40563);let g={title:"Best Deals",description:"Save big on these amazing items"},p=async()=>{var e;let{error:r}=await n.N.from("products").select("id").limit(1);if(null==r||null==(e=r.message)?void 0:e.includes("does not exist"))throw Error("Store is being set up. Please check back soon.");let{data:i,error:t}=await n.N.from("products").select("\n      id,\n      name,\n      description,\n      price,\n      compare_at_price,\n      stock,\n      status,\n      is_featured,\n      is_deal,\n      deal_order,\n      sku,\n      slug,\n      category_id,\n      images,\n      categories:categories(name, slug)\n    ").eq("status","active").not("compare_at_price","is",null).order("deal_order",{ascending:!0}).order("created_at",{ascending:!1}).limit(24);if(t)throw Error("Unable to load deals at this time.");return i&&0!==i.length?i.filter(e=>e.compare_at_price&&e.compare_at_price>e.price).map(e=>{let r=e.compare_at_price?(e.compare_at_price-e.price)/e.compare_at_price*100:0;return{...e,discountPercentage:r}}).sort((e,r)=>r.discountPercentage-e.discountPercentage).slice(0,12).map((e,r)=>{var i;let t=Array.isArray(e.images)?e.images.map(e=>(0,m.a)(e)).filter(Boolean):[];return{...e,price:e.compare_at_price||e.price,salePrice:e.price,images:t.length>0?t.map(e=>({url:e})):[{url:"/images/placeholder.png"}],sku:e.sku||"TOT-".concat(e.id.slice(0,8)),category:(null==(i=e.categories)?void 0:i.name)||"",categorySlug:"",ageRange:"",inStock:e.stock>0,isFeatured:e.is_featured||!1,rating:5,reviews:0,index:r+1,sizes:[{value:"0-2",label:"0-2 years",price:e.price,inStock:!0},{value:"2-4",label:"2-4 years",price:e.price,inStock:!0},{value:"4-6",label:"4-6 years",price:e.price,inStock:!0},{value:"6+",label:"6+ years",price:e.price,inStock:!0}]}}):[]},u=()=>{let{data:e=[],error:r,isLoading:i}=(0,c.Ay)("best-deals",p,{revalidateOnFocus:!1}),[s,n]=(0,a.useState)(1),m=Math.ceil(e.length/12),u=e.slice((s-1)*12,12*s);return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(o.A,{title:g.title,description:g.description}),(0,t.jsxs)("div",{className:"mt-8",children:[i&&(0,t.jsx)("div",{className:"text-center text-gray-500",children:"Loading deals..."}),r&&(0,t.jsxs)("div",{className:"text-center text-red-500",children:["Error: ",r.message]}),!i&&!r&&0===e.length&&(0,t.jsx)("div",{className:"text-center text-gray-500",children:"No deals available at the moment."}),!i&&!r&&e.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"block sm:hidden -mx-4 px-4 overflow-x-auto no-scrollbar",children:(0,t.jsx)("div",{className:"flex gap-4",children:e.map((e,r)=>(0,t.jsx)("div",{className:"min-w-[48vw] max-w-[60vw]",children:(0,t.jsx)(d.default,{product:e,priority:r<2})},e.id))})}),(0,t.jsxs)("div",{className:"hidden sm:block",children:[(0,t.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:u.map((e,r)=>(0,t.jsx)(d.default,{product:e,className:"best-deals-card",priority:r<6},e.id))}),m>1&&(0,t.jsxs)("div",{className:"flex justify-center mt-6 gap-2",children:[(0,t.jsx)("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-primary hover:text-white transition",onClick:()=>n(s-1),disabled:1===s,children:"Prev"}),Array.from({length:m}).map((e,r)=>(0,t.jsx)("button",{className:"px-3 py-1 rounded ".concat(s===r+1?"bg-primary text-white":"bg-gray-100 hover:bg-primary hover:text-white"),onClick:()=>n(r+1),children:r+1},r)),(0,t.jsx)("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-primary hover:text-white transition",onClick:()=>n(s+1),disabled:s===m,children:"Next"})]}),(0,t.jsx)("div",{className:"mt-8 text-center",children:(0,t.jsxs)(l(),{href:"/deals",className:"inline-flex items-center text-primary hover:text-primary-dark transition-colors font-medium",children:["View more deals",(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})]})]})]})}},68261:(e,r,i)=>{i.d(r,{A:()=>a});var t=i(95155);i(12115);let a=e=>{let{title:r,description:i,className:a=""}=e;return(0,t.jsxs)("div",{className:"text-center ".concat(a),children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:r}),i&&(0,t.jsx)("p",{className:"mt-4 text-lg leading-8 text-gray-600",children:i})]})}},79140:(e,r,i)=>{i.d(r,{default:()=>d});var t=i(95155),a=i(12115),s=i(52643),l=i(96602),n=i(68261);let c={title:"New Arrivals",description:"Check out our latest toys and games"},d=()=>{let[e,r]=(0,a.useState)([]),[i,d]=(0,a.useState)(!0),[o,m]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{d(!0),m(null);try{var e;let{error:i}=await s.N.from("products").select("id").limit(1);if(null==i||null==(e=i.message)?void 0:e.includes("does not exist")){m("Store is being set up. Please check back soon."),d(!1);return}let{data:t,error:a}=await s.N.from("products").select("\n            id,\n            name,\n            description,\n            price,\n            stock,\n            status,\n            is_featured,\n            sku,\n            slug,\n            category_id,\n            images,\n            categories:categories(name, slug)\n          ").eq("status","active").order("created_at",{ascending:!1}).limit(12);if(a){m("Unable to load new arrivals at this time."),d(!1);return}if(t&&0!==t.length){let e=t.map(e=>{var r,i;return{id:e.id,name:e.name,description:e.description,price:e.price,salePrice:void 0,images:Array.isArray(e.images)?e.images.map(e=>{if("object"==typeof e&&null!==e)return e;if("string"==typeof e){let r=e.replace(/\.(png|jpg|jpeg)$/,"");return{web_image_url:"".concat(r,".webp"),feed_image_url:e,alt:""}}return{web_image_url:"/images/placeholder.png",feed_image_url:"/images/placeholder.png",alt:""}}):[],sku:e.sku,slug:e.slug||e.sku.toLowerCase(),category:(null==(r=e.categories)?void 0:r.name)||"",categorySlug:(null==(i=e.categories)?void 0:i.slug)||"",ageRange:"",inStock:e.stock>0,isFeatured:e.is_featured||!1,rating:5,reviews:0,sizes:[{value:"0-2",label:"0-2 years",price:e.price,inStock:!0},{value:"2-4",label:"2-4 years",price:e.price,inStock:!0},{value:"4-6",label:"4-6 years",price:e.price,inStock:!0},{value:"6+",label:"6+ years",price:e.price,inStock:!0}]}});r(e)}else r([])}catch(e){m("Something went wrong. Please try again later.")}finally{d(!1)}})()},[]),(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(n.A,{title:c.title,description:c.description}),(0,t.jsxs)("div",{className:"mt-8",children:[i&&(0,t.jsx)("div",{className:"text-center text-gray-500",children:"Loading new arrivals..."}),o&&(0,t.jsxs)("div",{className:"text-center text-red-500",children:["Error: ",o]}),!i&&!o&&0===e.length&&(0,t.jsx)("div",{className:"text-center text-gray-500",children:"No new arrivals available at the moment."}),!i&&!o&&e.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"block sm:hidden -mx-4 px-4 overflow-x-auto no-scrollbar",children:(0,t.jsx)("div",{className:"flex gap-4",children:e.map((e,r)=>(0,t.jsx)("div",{className:"min-w-[48vw] max-w-[60vw]",children:(0,t.jsx)(l.default,{product:e,priority:r<2})},e.id))})}),(0,t.jsx)("div",{className:"hidden sm:block",children:(0,t.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:e.map((e,r)=>(0,t.jsx)(l.default,{product:e,priority:r<6},e.id))})})]})]})]})}}}]);