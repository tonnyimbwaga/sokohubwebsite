(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4005],{8484:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(95155),r=a(6874),i=a.n(r);a(12115);let l=e=>{let{className:t="text-neutral-200 disabled:cursor-not-allowed",translate:a="",sizeClass:r="py-3 px-4 sm:py-3.5 sm:px-6",fontSize:l="text-sm sm:text-base font-medium",disabled:c=!1,href:n,children:o,type:d,loading:m,onClick:u=()=>{}}=e,x="relative h-auto inline-flex items-center justify-center rounded-full transition-colors ".concat(l," ").concat(r," ").concat(a," ").concat(t);return n?(0,s.jsx)(i(),{href:n,className:"".concat(x),onClick:u,children:o||"This is Link"}):(0,s.jsxs)("button",{disabled:c||m,className:"".concat(x),onClick:u,type:d,children:[m&&(0,s.jsxs)("svg",{className:"-ml-1 mr-3 h-5 w-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o||"This is Button"]})}},11473:(e,t,a)=>{Promise.resolve().then(a.bind(a,72843))},40563:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});let s="/images/placeholder.png",r="https://tafojbtftmihrheeyoky.supabase.co";function i(e,t){let a;if(!e||("string"==typeof e?a=e:e&&"object"==typeof e&&(a=e.web_image_url||e.web_optimized_image_url||e.feed_image_url||e.url||e.src),!a))return s;if(a.startsWith("http")||a.startsWith("/"))return a;let i=(null==t?void 0:t.bucket)||"product-images";return a.includes("../")||a.includes("..\\")?s:r?"".concat(r,"/storage/v1/object/public/").concat(i,"/").concat(a):"/".concat(i,"/").concat(a)}},57730:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(95155);a(12115);var r=a(8484);let i=e=>{let{className:t="",...a}=e;return(0,s.jsx)(r.A,{className:"rounded-full bg-primary text-white hover:bg-primary/80 disabled:bg-opacity-70 ".concat(t),...a})}},58250:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(95155);a(12115);var r=a(8484);let i=e=>{let{className:t="",...a}=e;return(0,s.jsx)(r.A,{className:"".concat(t),...a})}},61569:(e,t,a)=>{"use strict";a.d(t,{_:()=>c,e:()=>l});var s=a(95155),r=a(12115);let i=(0,r.createContext)({items:[],addToCart:()=>{},removeFromCart:()=>{},updateQuantity:()=>{},clearCart:()=>{},total:0,itemCount:0,isCartLoading:!0});function l(e){let{children:t}=e,[a,l]=(0,r.useState)([]),[c,n]=(0,r.useState)(!1);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("cart");e&&l(JSON.parse(e)),n(!0)}catch(e){n(!0)}},[]),(0,r.useEffect)(()=>{if(c)try{localStorage.setItem("cart",JSON.stringify(a));let e=new Date;e.setDate(e.getDate()+7),localStorage.setItem("cartExpiration",e.toISOString())}catch(e){}},[a,c]);let o=a.reduce((e,t)=>e+t.price*t.quantity,0),d=a.reduce((e,t)=>e+t.quantity,0);return(0,s.jsx)(i.Provider,{value:{items:a,addToCart:e=>{l(t=>t.find(t=>t.id===e.id&&t.selectedSize===e.selectedSize)?t.map(t=>t.id===e.id&&t.selectedSize===e.selectedSize?{...t,quantity:t.quantity+e.quantity}:t):[...t,e])},removeFromCart:e=>{l(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{l(a=>a.map(a=>a.id===e?{...a,quantity:t}:a))},clearCart:()=>{l([]);try{localStorage.removeItem("cart"),localStorage.removeItem("cartExpiration")}catch(e){}},total:o,itemCount:d,isCartLoading:!c},children:t})}function c(){return(0,r.useContext)(i)}},72843:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(95155),r=a(66766),i=a(6874),l=a.n(i),c=a(316),n=a(84879),o=a(24717),d=a(95340),m=a(61569),u=a(57730),x=a(58250),h=a(40563);function p(){let{items:e,total:t,removeFromCart:a,updateQuantity:i}=(0,m._)();return 0===e.length?(0,s.jsx)("div",{className:"container py-16",children:(0,s.jsxs)(c.P.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,s.jsx)(o.mzj,{className:"mx-auto h-20 w-20 text-gray-400"}),(0,s.jsx)("h2",{className:"mt-6 text-2xl font-medium text-gray-900",children:"Your cart is empty"}),(0,s.jsx)("p",{className:"mt-3 text-gray-500 max-w-md mx-auto",children:"Looks like you haven't added any items to your cart yet. Explore our products to find something you'll love!"}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(l(),{href:"/",children:(0,s.jsx)(x.A,{className:"px-8 py-3 shadow-sm hover:shadow-md transition-all duration-300 hover:translate-y-[-2px]",children:"Continue Shopping"})})})]})}):(0,s.jsxs)("div",{className:"container py-16",children:[(0,s.jsx)("h1",{className:"mb-8 text-3xl font-bold text-gray-900",children:"Shopping Cart"}),(0,s.jsxs)("div",{className:"grid gap-8 lg:grid-cols-12",children:[(0,s.jsx)("div",{className:"lg:col-span-8",children:(0,s.jsx)(n.N,{mode:"popLayout",children:e.map(e=>(0,s.jsxs)(c.P.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col sm:flex-row gap-4 sm:gap-6 bg-white shadow-md rounded-lg p-4 mb-6 transition-shadow hover:shadow-lg",children:[(0,s.jsx)("div",{className:"relative aspect-square h-24 w-24 sm:h-32 sm:w-32 shrink-0 overflow-hidden rounded-lg bg-gray-100 self-center sm:self-start shadow-sm hover:shadow transition-shadow duration-200",children:(0,s.jsx)(r.default,{src:e.images&&e.images.length>0?(0,h.a)(e.images[0],{width:200,quality:80,format:"webp"}):(0,h.a)(null),alt:e.name,fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)(l(),{href:"/products/".concat(e.slug),className:"font-medium text-gray-800 hover:text-primary text-base sm:text-lg transition-colors duration-200 line-clamp-2",children:e.name}),e.selectedSize&&(0,s.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:["Size: ",e.selectedSize]})]}),(0,s.jsxs)("p",{className:"font-semibold text-primary text-base sm:text-lg ml-2 sm:ml-4 shrink-0",children:["KES ",(e.price*e.quantity).toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2 sm:mt-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"quantity-".concat(e.id),className:"text-xs sm:text-sm text-gray-600",children:"Qty:"}),(0,s.jsx)("select",{id:"quantity-".concat(e.id),value:e.quantity,onChange:t=>i(e.id,Number(t.target.value)),className:"rounded-md border-gray-300 py-1 sm:py-1.5 text-gray-900 shadow-sm focus:ring-2 focus:ring-primary-focus focus:border-primary-focus transition-all duration-200 cursor-pointer text-xs sm:text-sm",children:[1,2,3,4,5,6,7,8,9,10].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsx)(c.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(e.id),className:"text-gray-500 hover:text-red-600 transition-colors duration-200 p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1","aria-label":"Remove item",children:(0,s.jsx)(d.A,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})]})]},e.id))})}),(0,s.jsxs)(c.P.div,{layout:!0,className:"rounded-lg border border-gray-200 p-6 lg:col-span-4 shadow-sm hover:shadow-md transition-shadow duration-300 bg-white",children:[(0,s.jsx)("h2",{className:"text-xl font-medium text-gray-900 border-b border-gray-100 pb-2",children:"Order Summary"}),(0,s.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Subtotal"}),(0,s.jsxs)("p",{className:"font-medium",children:["KES ",t.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Shipping"}),(0,s.jsx)("p",{className:"font-medium",children:"Calculated at checkout"})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 pt-4",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Total"}),(0,s.jsxs)("p",{className:"text-xl font-bold text-primary",children:["KES ",t.toLocaleString()]})]})})]}),(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,s.jsx)(l(),{href:"/checkout",children:(0,s.jsx)(u.A,{className:"w-full transition-transform hover:translate-y-[-2px] shadow-md hover:shadow-lg",children:"Proceed to Checkout"})}),(0,s.jsx)(l(),{href:"/",children:(0,s.jsx)(x.A,{className:"w-full transition-transform hover:translate-y-[-2px]",children:"Continue Shopping"})})]})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4777,6874,3063,316,4352,8441,1684,7358],()=>t(11473)),_N_E=e.O()}]);