(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8620],{29839:(e,t,i)=>{"use strict";i.d(t,{default:()=>p});var a=i(95155),r=i(66766),s=i(6874),n=i.n(s),l=i(12115),o=i(316),d=i(35695),c=i(52643),m=i(42843),u=i(57730);let p=()=>{let e,[t,i]=(0,l.useState)(""),[s,p]=(0,l.useState)([]),[x,h]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),v=(0,d.useRouter)(),f=(0,l.useRef)(null),N=async e=>{if(!e.trim()){p([]),h(!1);return}g(!0);let{data:t,error:i}=await c.N.from("products").select("id, name, price, images").ilike("name","%".concat(e,"%")).limit(8);if(g(!1),i){p([]),h(!1);return}p(t||[]),h(!0)},j=e=>{h(!1),i(""),v.push("/products/".concat(e))};return(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"relative flex flex-col-reverse items-center gap-4 md:gap-8 rounded-2xl bg-primary/10 p-6 md:p-8 lg:p-12",children:[(0,a.jsxs)(o.P.div,{className:"flex-1 text-center md:text-left",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,a.jsxs)("div",{className:"relative mb-4 flex justify-center md:justify-start",children:[(0,a.jsx)("input",{ref:f,value:t,onChange:t=>{let a=t.target.value;i(a),clearTimeout(e),e=setTimeout(()=>N(a),250)},onKeyDown:e=>{"Enter"===e.key&&N(t)},placeholder:"Search for toys...",className:"rounded-l-md border border-gray-300 px-4 py-2 w-64 focus:outline-none focus:ring-2 focus:ring-primary",onFocus:()=>t&&h(!0),onBlur:()=>setTimeout(()=>h(!1),120)}),(0,a.jsx)("button",{onClick:()=>{var e;N(t),null==(e=f.current)||e.focus()},className:"rounded-r-md bg-primary px-4 py-2 text-white hover:bg-primary-dark",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 104.5 4.5a7.5 7.5 0 0012.15 12.15z"})})}),x&&(0,a.jsx)("div",{className:"absolute left-0 top-12 z-20 w-full rounded-md border bg-white shadow-lg",children:y?(0,a.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Searching..."}):0===s.length?(0,a.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No products found"}):s.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-100 cursor-pointer",onMouseDown:()=>j(e.id),children:[(0,a.jsx)("img",{src:Array.isArray(e.images)&&e.images.length>0?e.images[0]:"/placeholder.png",alt:e.name,className:"h-10 w-10 rounded object-cover"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Ksh ",null==(t=e.price)?void 0:t.toLocaleString("en-KE")]})]})]},e.id)})})]}),(0,a.jsx)(o.P.h4,{className:"mb-4 text-xl font-medium text-primary",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:m.ND.title}),(0,a.jsx)(o.P.h1,{className:"mb-2 text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight leading-tight text-gray-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:m.ND.heading}),(0,a.jsx)(o.P.p,{className:"mb-8 text-lg text-gray-600 md:w-4/5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:m.ND.description}),(0,a.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,a.jsx)(n(),{href:"/products",children:(0,a.jsx)(u.A,{sizeClass:"px-8 py-4 text-lg",children:"Shop Now"})})})]}),(0,a.jsx)(o.P.div,{className:"w-full md:w-2/5",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:(0,a.jsx)(r.default,{src:m.ND.image,alt:"Happy kids playing with toys",width:500,height:500,className:"rounded-lg",priority:!0})})]})})}},57730:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var a=i(95155);i(12115);var r=i(8484);let s=e=>{let{className:t="",...i}=e;return(0,a.jsx)(r.A,{className:"rounded-full bg-primary text-white hover:bg-primary/80 disabled:bg-opacity-70 ".concat(t),...i})}},65048:(e,t,i)=>{Promise.resolve().then(i.bind(i,54675)),Promise.resolve().then(i.bind(i,29839)),Promise.resolve().then(i.bind(i,79140)),Promise.resolve().then(i.bind(i,48119))}},e=>{var t=t=>e(e.s=t);e.O(0,[844,4982,6874,3063,316,6972,1487,6602,2246,1948,8441,1684,7358],()=>t(65048)),_N_E=e.O()}]);