(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8279],{24102:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var i=r(95155),a=r(12115),s=r(66766);function o(e){let{src:t,alt:r,width:o=800,height:n,className:l="",loading:c="lazy",quality:d=75,priority:m=!1,preload:u=!1,sizes:x,placeholder:h="blur",blurDataURL:p}=e,[y,b]=(0,a.useState)(!0),[f,g]=(0,a.useState)(!1),v="object"==typeof t&&null!==t&&"src"in t?t.src:t;(0,a.useEffect)(()=>{if(!u||!v||"undefined"==typeof document)return;let e=document.createElement("link");return e.rel="preload",e.as="image",e.href=v,e.fetchPriority="high",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[v,u]);let j=(0,a.useCallback)(()=>{b(!1)},[]),N=(0,a.useCallback)(()=>{g(!0),b(!1)},[v]);return(0,i.jsxs)("div",{className:"relative w-full h-full overflow-hidden bg-gray-100",children:[(0,i.jsx)(s.default,{src:v,alt:r,width:o,height:n||Math.round(.75*o),className:"\n          transition-all duration-500\n          ".concat(y?"opacity-0 scale-95":"opacity-100 scale-100","\n          ").concat(l,"\n        "),loading:m?"eager":c,priority:m,quality:d,sizes:x||"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",placeholder:h,blurDataURL:p||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2P4z8DwHwAFgwJ/lwQn1wAAAABJRU5ErkJggg==",onLoad:j,onError:N,style:{backgroundColor:y?"#f3f4f6":void 0}}),f&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:(0,i.jsx)("svg",{className:"w-10 h-10 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"})})})]})}},40563:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});let i="/images/placeholder.png",a="https://tafojbtftmihrheeyoky.supabase.co";function s(e,t){let r;if(!e||("string"==typeof e?r=e:e&&"object"==typeof e&&(r=e.web_image_url||e.web_optimized_image_url||e.feed_image_url||e.url||e.src),!r))return i;if(r.startsWith("http")||r.startsWith("/"))return r;let s=(null==t?void 0:t.bucket)||"product-images";return r.includes("../")||r.includes("..\\")?i:a?"".concat(a,"/storage/v1/object/public/").concat(s,"/").concat(r):"/".concat(s,"/").concat(r)}},52643:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var i=r(34982);let a=async(e,t)=>{let{timeout:r=3e4}=t||{},i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await fetch(e,{...t,signal:i.signal});return clearTimeout(a),s},s=(0,i.UU)("https://tafojbtftmihrheeyoky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhZm9qYnRmdG1paHJoZWV5b2t5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3Mzk3MTYsImV4cCI6MjA2MDMxNTcxNn0.vdL2odCYREv1GykTt8wx76lmhaHmDkBYcC65L4Z_vXo",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{fetch:a}})},61569:(e,t,r)=>{"use strict";r.d(t,{_:()=>n,e:()=>o});var i=r(95155),a=r(12115);let s=(0,a.createContext)({items:[],addToCart:()=>{},removeFromCart:()=>{},updateQuantity:()=>{},clearCart:()=>{},total:0,itemCount:0,isCartLoading:!0});function o(e){let{children:t}=e,[r,o]=(0,a.useState)([]),[n,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem("cart");e&&o(JSON.parse(e)),l(!0)}catch(e){l(!0)}},[]),(0,a.useEffect)(()=>{if(n)try{localStorage.setItem("cart",JSON.stringify(r));let e=new Date;e.setDate(e.getDate()+7),localStorage.setItem("cartExpiration",e.toISOString())}catch(e){}},[r,n]);let c=r.reduce((e,t)=>e+t.price*t.quantity,0),d=r.reduce((e,t)=>e+t.quantity,0);return(0,i.jsx)(s.Provider,{value:{items:r,addToCart:e=>{o(t=>t.find(t=>t.id===e.id&&t.selectedSize===e.selectedSize)?t.map(t=>t.id===e.id&&t.selectedSize===e.selectedSize?{...t,quantity:t.quantity+e.quantity}:t):[...t,e])},removeFromCart:e=>{o(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{o(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},clearCart:()=>{o([]);try{localStorage.removeItem("cart"),localStorage.removeItem("cartExpiration")}catch(e){}},total:c,itemCount:d,isCartLoading:!n},children:t})}function n(){return(0,a.useContext)(s)}},95919:(e,t,r)=>{Promise.resolve().then(r.bind(r,97430))},97430:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var i=r(95155),a=r(12115),s=r(316),o=r(84879),n=r(35695),l=r(263),c=r(15649),d=r(45780),m=r(40487),u=r(46172),x=r(4662),h=r(61569),p=r(52643),y=r(71311);async function b(e){try{let t=(0,y.Ak)(10),r=e.is_immediate_payment||!1,i=r?e.discount_percentage||5:0,a=e.total,s=r?Number((a*(1-i/100)).toFixed(2)):a,o=r&&e.mpesa_transaction_code?"paid":"pending",n="paid"===o?new Date().toISOString():null,{error:l}=await p.N.from("orders").insert({id:t,...e,status:e.status||"pending",created_at:new Date().toISOString(),is_immediate_payment:r,discount_percentage:i,original_amount:a,discounted_amount:s,payment_status:o,payment_date:n,order_confirmed:e.order_confirmed||!0,order_confirmation_date:new Date().toISOString()});if(l)throw l;return{success:!0,orderId:t}}catch(e){return{success:!1,error:"Failed to create order. Please try again."}}}var f=r(24102),g=r(40563);let v=e=>{let{children:t,motionKey:r,animationDirection:a}=e;return(0,i.jsx)(s.P.div,{initial:{opacity:0,x:1===a?150:-150},animate:{opacity:1,x:0},exit:{opacity:0,x:1===a?-150:150},transition:{type:"tween",ease:"easeOut",duration:.25},className:"w-full",children:t},r)},j=[{id:1,title:"Delivery Options",icon:l.A},{id:2,title:"Contact Information",icon:c.A},{id:3,title:"Confirm Order",icon:d.A}],N=(e,t)=>{if(!e)return"";let r=e.split(" ");return r.length>t?r.slice(0,t).join(" ")+"...":e},w=e=>{let{cartItems:t,totalAmount:r}=e;return(0,i.jsxs)("div",{className:"bg-primary bg-opacity-5 p-6 md:p-8 rounded-xl shadow-lg",children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 border-b border-gray-200 pb-4",children:"Order Summary"}),(0,i.jsx)("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:t.length>0?t.map((e,t)=>(0,i.jsxs)("div",{className:"flex items-center space-x-4 py-3 border-b border-gray-100 last:border-b-0",children:[(0,i.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:(0,i.jsx)(f.A,{src:function(e){if(!e)return"/assets/images/logo.png";if(e.images&&Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];if("object"==typeof t&&(null==t?void 0:t.url))return(0,g.a)(t.url);if("string"==typeof t)return(0,g.a)(t)}return"/assets/images/logo.png"}(e),alt:e.name||"Product Image",width:64,height:64,className:"object-cover w-full h-full"})}),(0,i.jsxs)("div",{className:"flex-grow",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-800",children:N(e.name,5)}),(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",e.quantity]})]}),(0,i.jsxs)("p",{className:"text-sm font-semibold text-primary whitespace-nowrap",children:["Ksh ",(e.price*(e.quantity||1)).toLocaleString()]})]},e.id||t)):(0,i.jsx)("p",{className:"text-sm text-gray-500 py-4",children:"Your cart is empty."})}),t.length>0&&(0,i.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center text-lg font-semibold text-gray-800",children:[(0,i.jsx)("span",{children:"Total"}),(0,i.jsxs)("span",{children:["Ksh ",r.toLocaleString()]})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Note: Delivery fees are not included and will be communicated upon order confirmation."})]})]})},k=()=>{let e=(0,n.useRouter)(),{items:t,total:r,clearCart:p,isCartLoading:y}=(0,h._)(),f=(0,a.useRef)(null),[g,N]=(0,a.useState)(1),[k,S]=(0,a.useState)({deliveryZone:"",deliveryLocation:"",nairobiSpecificLocation:"",outsideNairobiLocation:"",name:"",phone:"",confirmPhone:"",orderId:void 0}),[C,A]=(0,a.useState)({}),[P,L]=(0,a.useState)(!1),[_,I]=(0,a.useState)(!1),[Z,O]=(0,a.useState)(1);(0,a.useEffect)(()=>{f.current&&(window.innerWidth<768?window.scrollTo({top:f.current.offsetTop-20,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"}))},[g]);let X=e=>{let{name:t,value:r}=e.target;S(e=>({...e,[t]:r})),"deliveryZone"===t&&S(e=>({...e,nairobiSpecificLocation:"",outsideNairobiLocation:"",deliveryLocation:"nairobi"===r?"home_office_delivery":""})),C[t]&&A(e=>({...e,[t]:void 0}))},D=e=>{var t,r;let i={};return e.deliveryZone||(i.deliveryZone="Please select a delivery zone."),"nairobi"!==e.deliveryZone||(null==(t=e.nairobiSpecificLocation)?void 0:t.trim())||(i.nairobiSpecificLocation="Please provide your specific location in Nairobi (e.g., street name, building, landmark)."),"outside"!==e.deliveryZone||(null==(r=e.outsideNairobiLocation)?void 0:r.trim())||(i.outsideNairobiLocation="Please provide your location outside Nairobi."),i},z=()=>{var e,t,r,i,a;let s={};return(null==(e=k.name)?void 0:e.trim())||(s.name="Full name is required."),(null==(t=k.phone)?void 0:t.trim())?/^(?:\+254|0)(?:1|7)\d{8}$/.test(k.phone.trim())||(s.phone="Invalid Kenyan phone. Use format +254X XX XXX XXX, 07XXXXXXXX or 01XXXXXXXX."):s.phone="Phone number is required.",(null==(r=k.confirmPhone)?void 0:r.trim())?(null==(i=k.phone)?void 0:i.trim())!==(null==(a=k.confirmPhone)?void 0:a.trim())&&(s.confirmPhone="Phone numbers do not match."):s.confirmPhone="Please confirm your phone number.",A(s),0===Object.keys(s).length},T=async()=>{let i=D(k),a=z();if(Object.keys(i).length>0||!a){A(e=>({...e,...i,general:"Please correct the errors before submitting."})),Object.keys(i).length>0?N(1):a||N(2);return}L(!0),A({});try{let i="";i="nairobi"===k.deliveryZone?k.nairobiSpecificLocation||"Nairobi (Specific location not provided)":k.outsideNairobiLocation||"Outside Nairobi (Specific location not provided)";let a={customer_name:k.name||"",phone:k.phone||"",delivery_zone:k.deliveryZone||"",location:i,items:t,total:r,status:"pending",payment_status:"pending"},s=await b(a);s&&s.success&&s.orderId?(S(e=>({...e,orderId:s.orderId})),p(),I(!0),setTimeout(()=>{e.push("/")},3e3)):A({general:(null==s?void 0:s.error)||"Failed to create order. Please try again."})}catch(e){A({general:"An unexpected error occurred while submitting your order. Please try again."})}finally{L(!1)}};return(0,a.useEffect)(()=>{0!==t.length||_||e.replace("/cart")},[t,e,_,g]),(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 py-8 md:py-12 px-4 sm:px-6 lg:px-8 font-karla",children:[(0,i.jsx)(o.N,{children:y&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-2xl text-center max-w-md w-full",children:[(0,i.jsx)("div",{className:"bg-primary bg-opacity-10 rounded-full p-5 mb-5 inline-block",children:(0,i.jsx)(d.A,{className:"w-16 h-16 text-primary"})}),(0,i.jsx)("h3",{className:"text-3xl font-bold text-primary-dark mb-3",children:"Loading Cart..."}),(0,i.jsx)("p",{className:"text-gray-600 mb-6 text-base",children:"Please wait while we load your cart items."})]})})}),(0,i.jsxs)("div",{className:"max-w-5xl mx-auto",children:[t.length>0&&(0,i.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,i.jsxs)("button",{type:"button",onClick:()=>e.replace("/cart"),className:"flex items-center justify-center gap-2 text-sm font-medium text-gray-600 hover:text-primary disabled:opacity-60 transition-all duration-200 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 w-full sm:w-auto order-2 sm:order-1 disabled:cursor-not-allowed",children:[(0,i.jsx)(x.A,{className:"w-4 h-4"}),"Back to Cart"]})}),(0,i.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-2 text-center font-karla",children:"Checkout"}),(0,i.jsx)("p",{className:"text-gray-600 text-center mb-8 md:mb-12 font-karla",children:"Please fill in your details to complete your order."}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 lg:gap-12",children:[(0,i.jsx)("div",{className:"w-full md:w-1/3 md:order-last",children:(0,i.jsx)(w,{cartItems:t,totalAmount:r})}),(0,i.jsxs)("div",{ref:f,className:"w-full md:w-2/3 md:order-first bg-white p-6 sm:p-8 rounded-xl shadow-xl",children:[(0,i.jsx)("div",{className:"mb-8",children:(0,i.jsx)("div",{className:"flex justify-between mb-1",children:j.map((e,t)=>(0,i.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,i.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 text-base font-bold transition-all duration-200 ".concat(g>=e.id?"bg-primary border-primary text-white":"bg-white border-gray-300 text-gray-400"),children:(0,i.jsx)(e.icon,{className:"w-6 h-6"})}),t<j.length-1&&(0,i.jsx)("div",{className:"flex-1 h-1 bg-gray-200 mx-2 rounded-full"})]},e.id))})}),(0,i.jsx)(o.N,{initial:!1,custom:Z,mode:"wait",children:(()=>{let e=j.find(e=>e.id===g);switch(g){case 1:return(0,i.jsxs)(v,{motionKey:"step-".concat(g),animationDirection:Z,children:[e&&(0,i.jsxs)("div",{className:"flex items-center text-2xl font-semibold text-gray-800 mb-6 pb-4 border-b border-gray-200",children:[(0,i.jsx)(e.icon,{className:"w-7 h-7 text-primary mr-3"}),e.title]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Choose Delivery Zone"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,i.jsxs)(s.P.div,{whileTap:{scale:.97},className:"p-4 border rounded-lg cursor-pointer transition-colors duration-200 ease-in-out flex justify-between items-center ".concat("nairobi"===k.deliveryZone?"border-primary ring-2 ring-primary bg-primary/10":"border-gray-300 hover:border-gray-400"," ").concat(C.deliveryZone&&!k.deliveryZone?"border-red-500 bg-red-50":""),onClick:()=>X({target:{name:"deliveryZone",value:"nairobi"}}),children:[(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(m.A,{className:"w-5 h-5 mr-2 text-primary"})," Nairobi Area"]}),"nairobi"===k.deliveryZone&&(0,i.jsx)(s.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.2,ease:"easeOut"},children:(0,i.jsx)(u.A,{className:"w-5 h-5 text-primary"})})]}),(0,i.jsxs)(s.P.div,{whileTap:{scale:.97},className:"p-4 border rounded-lg cursor-pointer transition-colors duration-200 ease-in-out flex justify-between items-center ".concat("outside"===k.deliveryZone?"border-primary ring-2 ring-primary bg-primary/10":"border-gray-300 hover:border-gray-400"," ").concat(C.deliveryZone&&!k.deliveryZone?"border-red-500 bg-red-50":""),onClick:()=>X({target:{name:"deliveryZone",value:"outside"}}),children:[(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(l.A,{className:"w-5 h-5 mr-2 text-primary"})," Outside Nairobi"]}),"outside"===k.deliveryZone&&(0,i.jsx)(s.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.2,ease:"easeOut"},children:(0,i.jsx)(u.A,{className:"w-5 h-5 text-primary"})})]})]}),C.deliveryZone&&(0,i.jsx)("p",{className:"text-xs text-red-600 mt-1",children:C.deliveryZone})]}),"nairobi"===k.deliveryZone&&(0,i.jsx)(s.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-3 pt-3",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:"nairobiSpecificLocation",className:"block text-sm font-medium text-gray-700",children:"Your Location in Nairobi"}),(0,i.jsx)("input",{type:"text",id:"nairobiSpecificLocation",name:"nairobiSpecificLocation",value:k.nairobiSpecificLocation||"",onChange:X,placeholder:"Enter your exact location (e.g., street, building, landmark)",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(C.nairobiSpecificLocation?"border-red-500 bg-red-50":"border-gray-300")}),C.nairobiSpecificLocation&&(0,i.jsx)("p",{className:"text-xs text-red-600 mt-1",children:C.nairobiSpecificLocation}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Please be specific with your location to ensure smooth delivery."})]})}),"outside"===k.deliveryZone&&(0,i.jsxs)(s.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-3 pt-3 border-t border-gray-100",children:[(0,i.jsx)("label",{htmlFor:"outsideNairobiLocation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Town/Location outside Nairobi"}),(0,i.jsx)("input",{type:"text",id:"outsideNairobiLocation",name:"outsideNairobiLocation",value:k.outsideNairobiLocation||"",onChange:X,placeholder:"e.g., Nakuru Town, Moi Avenue",className:"w-full p-3 border rounded-lg focus:ring-2 transition-colors ".concat(C.outsideNairobiLocation?"border-red-500 focus:ring-red-500 focus:border-red-500 bg-red-50":"border-gray-300 focus:ring-primary focus:border-primary")}),C.outsideNairobiLocation&&(0,i.jsx)("p",{className:"text-xs text-red-600 mt-1",children:C.outsideNairobiLocation})]})]})]});case 2:return(0,i.jsxs)(v,{motionKey:"step-".concat(g),animationDirection:Z,children:[e&&(0,i.jsxs)("div",{className:"flex items-center text-2xl font-semibold text-gray-800 mb-6 pb-4 border-b border-gray-200",children:[(0,i.jsx)(e.icon,{className:"w-7 h-7 text-primary mr-3"}),e.title]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,i.jsx)("input",{type:"text",name:"name",id:"name",value:k.name,onChange:X,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",placeholder:"Jane Doe"}),C.name&&(0,i.jsx)("p",{className:"text-xs text-red-500 mt-1",children:C.name})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,i.jsx)("input",{type:"tel",name:"phone",id:"phone",value:k.phone,onChange:X,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",placeholder:"0712 345678"}),C.phone&&(0,i.jsx)("p",{className:"text-xs text-red-500 mt-1",children:C.phone})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"confirmPhone",className:"block text-sm font-medium text-gray-700",children:"Confirm Phone Number"}),(0,i.jsx)("input",{type:"tel",name:"confirmPhone",id:"confirmPhone",value:k.confirmPhone,onChange:X,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",placeholder:"Confirm your phone number"}),C.confirmPhone&&(0,i.jsx)("p",{className:"text-xs text-red-500 mt-1",children:C.confirmPhone})]})]})]});case 3:return(0,i.jsxs)(v,{motionKey:"step-".concat(g),animationDirection:Z,children:[e&&(0,i.jsxs)("div",{className:"flex items-center text-2xl font-semibold text-gray-800 mb-6 pb-4 border-b border-gray-200",children:[(0,i.jsx)(e.icon,{className:"w-7 h-7 text-primary mr-3"}),e.title]}),(0,i.jsx)("p",{className:"text-gray-700 mb-4",children:"Please review your delivery and contact information. The order summary on the right shows the items in your cart."}),(0,i.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:'Click "Place Order" to finalize your purchase. We will contact you shortly after to confirm delivery details and fees.'}),(0,i.jsxs)("div",{className:"bg-slate-50 rounded-xl shadow-md p-6 mb-8",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold text-primary mb-3 flex items-center",children:[(0,i.jsx)(c.A,{className:"w-6 h-6 mr-2"})," Contact Information"]}),(0,i.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 pl-8",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Name:"})," ",k.name]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Phone:"})," ",k.phone]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold text-primary mb-3 flex items-center",children:[(0,i.jsx)(l.A,{className:"w-6 h-6 mr-2"})," Delivery Details"]}),(0,i.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 pl-8",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Zone:"})," ","nairobi"===k.deliveryZone?"Nairobi Area":"Outside Nairobi"]}),"nairobi"===k.deliveryZone&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Option:"})," ","pickup_cbd"===k.deliveryLocation?"Pickup from CBD":"Home or Office Delivery"]}),"home_office_delivery"===k.deliveryLocation&&k.nairobiSpecificLocation&&(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Specific Location:"})," ",k.nairobiSpecificLocation]})]}),"outside"===k.deliveryZone&&k.outsideNairobiLocation&&(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Location:"})," ",k.outsideNairobiLocation]})]})]})]}),C.general&&(0,i.jsx)("div",{className:"my-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md",children:(0,i.jsx)("p",{children:C.general})})]});default:return null}})()}),!_&&g<=j.length&&(0,i.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-between",children:[(0,i.jsxs)("button",{type:"button",onClick:()=>{O(-1),N(e=>e-1)},disabled:1===g||P,className:"flex items-center justify-center gap-2 text-sm font-medium text-gray-600 hover:text-primary disabled:opacity-60 transition-all duration-200 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 w-full sm:w-auto order-2 sm:order-1 disabled:cursor-not-allowed",children:[(0,i.jsx)(x.A,{className:"w-4 h-4"}),"Back"]}),(0,i.jsx)("button",{type:"button",onClick:()=>{if(1===g){let e=D(k);A(e),Object.keys(e).length>0||(O(1),N(2))}else if(2===g){if(!z())return;O(1),N(3)}else g===j.length&&T()},disabled:P,className:"w-full sm:w-auto rounded-lg shadow-md hover:shadow-lg !py-3 !px-6 text-base order-1 sm:order-2 flex-grow disabled:cursor-not-allowed font-karla ".concat(P?"bg-gray-400":"bg-primary hover:bg-primary-dark text-white"," disabled:bg-gray-300 disabled:text-gray-500"),children:P?(0,i.jsxs)("span",{className:"flex items-center justify-center",children:[(0,i.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):g===j.length?"Place Order":"Next"})]})]})]}),_&&(0,i.jsx)(o.N,{children:(0,i.jsx)(s.P.div,{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsxs)(s.P.div,{className:"bg-white p-8 rounded-xl shadow-2xl text-center max-w-md w-full",initial:{scale:.8,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.8,y:50,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:[(0,i.jsx)(s.P.div,{initial:{scale:.7,rotate:-20,opacity:0},animate:{scale:1.1,rotate:0,opacity:1},transition:{type:"spring",stiffness:300,damping:12,delay:.2},className:"bg-primary bg-opacity-10 rounded-full p-5 mb-5 inline-block",children:(0,i.jsx)(d.A,{className:"w-16 h-16 text-primary"})}),(0,i.jsx)("h3",{className:"text-3xl font-bold text-primary-dark mb-3",children:"Order Placed Successfully!"}),(0,i.jsx)("p",{className:"text-gray-600 mb-6 text-base",children:"We will contact you shortly to confirm your order and arrange delivery. Thank you for shopping with us!"}),(0,i.jsx)(s.P.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-primary hover:bg-primary-dark text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-75 transition-all duration-150 ease-in-out font-karla",onClick:()=>{I(!1),e.replace("/")},children:"Continue Shopping"})]})})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4982,3063,316,4338,8441,1684,7358],()=>t(95919)),_N_E=e.O()}]);