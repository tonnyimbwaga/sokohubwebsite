(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{14003:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(95155),r=s(55028),l=s(56671);let i=(0,r.default)(()=>s.e(1150).then(s.bind(s,11150)),{loadableGenerated:{webpack:()=>[11150]},ssr:!1});function n(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{}),(0,a.jsx)(l.l$,{richColors:!0,position:"bottom-right"})]})}},40563:(e,t,s)=>{"use strict";s.d(t,{a:()=>l});let a="/images/placeholder.png",r="https://tafojbtftmihrheeyoky.supabase.co";function l(e,t){let s;if(!e||("string"==typeof e?s=e:e&&"object"==typeof e&&(s=e.web_image_url||e.web_optimized_image_url||e.feed_image_url||e.url||e.src),!s))return a;if(s.startsWith("http")||s.startsWith("/"))return s;let l=(null==t?void 0:t.bucket)||"product-images";return s.includes("../")||s.includes("..\\")?a:r?"".concat(r,"/storage/v1/object/public/").concat(l,"/").concat(s):"/".concat(l,"/").concat(s)}},52643:(e,t,s)=>{"use strict";s.d(t,{N:()=>l});var a=s(34982);let r=async(e,t)=>{let{timeout:s=3e4}=t||{},a=new AbortController,r=setTimeout(()=>a.abort(),s),l=await fetch(e,{...t,signal:a.signal});return clearTimeout(r),l},l=(0,a.UU)("https://tafojbtftmihrheeyoky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhZm9qYnRmdG1paHJoZWV5b2t5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3Mzk3MTYsImV4cCI6MjA2MDMxNTcxNn0.vdL2odCYREv1GykTt8wx76lmhaHmDkBYcC65L4Z_vXo",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{fetch:r}})},57730:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(95155);s(12115);var r=s(8484);let l=e=>{let{className:t="",...s}=e;return(0,a.jsx)(r.A,{className:"rounded-full bg-primary text-white hover:bg-primary/80 disabled:bg-opacity-70 ".concat(t),...s})}},58250:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(95155);s(12115);var r=s(8484);let l=e=>{let{className:t="",...s}=e;return(0,a.jsx)(r.A,{className:"".concat(t),...s})}},61569:(e,t,s)=>{"use strict";s.d(t,{_:()=>n,e:()=>i});var a=s(95155),r=s(12115);let l=(0,r.createContext)({items:[],addToCart:()=>{},removeFromCart:()=>{},updateQuantity:()=>{},clearCart:()=>{},total:0,itemCount:0,isCartLoading:!0});function i(e){let{children:t}=e,[s,i]=(0,r.useState)([]),[n,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("cart");e&&i(JSON.parse(e)),o(!0)}catch(e){o(!0)}},[]),(0,r.useEffect)(()=>{if(n)try{localStorage.setItem("cart",JSON.stringify(s));let e=new Date;e.setDate(e.getDate()+7),localStorage.setItem("cartExpiration",e.toISOString())}catch(e){}},[s,n]);let c=s.reduce((e,t)=>e+t.price*t.quantity,0),d=s.reduce((e,t)=>e+t.quantity,0);return(0,a.jsx)(l.Provider,{value:{items:s,addToCart:e=>{i(t=>t.find(t=>t.id===e.id&&t.selectedSize===e.selectedSize)?t.map(t=>t.id===e.id&&t.selectedSize===e.selectedSize?{...t,quantity:t.quantity+e.quantity}:t):[...t,e])},removeFromCart:e=>{i(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{i(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},clearCart:()=>{i([]);try{localStorage.removeItem("cart"),localStorage.removeItem("cartExpiration")}catch(e){}},total:c,itemCount:d,isCartLoading:!n},children:t})}function n(){return(0,r.useContext)(l)}},63999:()=>{},67122:(e,t,s)=>{"use strict";s.d(t,{default:()=>F});var a=s(95155),r=s(6874),l=s.n(r),i=s(12115),n=s(29911),o=s(93347),c=s(316),d=s(84879),m=s(17313),u=s(75517),x=s(66766),h=s(10351),g=s(24717),p=s(95340),f=s(61569),y=s(57730),j=s(58250),v=s(40563);function b(e){let{isOpen:t,onClose:s}=e,{items:r,total:n,removeFromCart:o,updateQuantity:b}=(0,f._)();return(0,a.jsx)(m.e.Root,{show:t,as:i.Fragment,children:(0,a.jsxs)(u.lG,{as:"div",className:"relative z-50",onClose:s,children:[(0,a.jsx)(m.e.Child,{as:i.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-hidden",children:(0,a.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,a.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:(0,a.jsx)(m.e.Child,{as:i.Fragment,enter:"transform transition ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,a.jsx)(u.lG.Panel,{className:"pointer-events-auto w-screen max-w-md",children:(0,a.jsxs)("div",{className:"flex h-full flex-col overflow-y-scroll bg-white shadow-xl",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)(u.lG.Title,{className:"text-lg font-medium text-gray-900",children:"Shopping cart"}),(0,a.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,a.jsxs)("button",{type:"button",className:"relative -m-2 p-2 text-gray-400 hover:text-gray-500",onClick:s,children:[(0,a.jsx)("span",{className:"absolute -inset-0.5"}),(0,a.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,a.jsx)(h.yGN,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)("div",{className:"flow-root",children:(0,a.jsx)(d.N,{mode:"popLayout",children:r.length>0?(0,a.jsx)("ul",{role:"list",className:"space-y-4",children:r.map(e=>{var t;return(0,a.jsxs)(c.P.li,{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 bg-white shadow-md rounded-lg p-3 sm:p-4 transition-shadow hover:shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[(0,a.jsx)("div",{className:"relative h-20 w-20 sm:h-24 sm:w-24 flex-shrink-0 overflow-hidden rounded-lg bg-gray-100 shadow-sm hover:shadow transition-shadow duration-200 self-center sm:self-start",children:(0,a.jsx)(x.default,{src:(0,v.a)(null==(t=e.images)?void 0:t[0]),alt:e.name,className:"h-full w-full object-cover object-center",width:96,height:96})}),(0,a.jsxs)("div",{className:"ml-0 sm:ml-4 flex flex-1 flex-col gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm sm:text-base font-medium text-gray-800 items-start",children:[(0,a.jsx)("h3",{className:"line-clamp-2",children:(0,a.jsx)(l(),{href:"/products/".concat(e.slug),onClick:s,className:"hover:text-primary transition-colors",children:e.name})}),(0,a.jsxs)("p",{className:"ml-2 sm:ml-4 font-semibold text-primary shrink-0",children:["KES ",(e.price*e.quantity).toLocaleString()]})]}),e.selectedSize&&(0,a.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:["Size: ",e.selectedSize]})]}),(0,a.jsxs)("div",{className:"flex flex-1 items-center sm:items-end justify-between text-xs sm:text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,a.jsx)("label",{htmlFor:"slideover-quantity-".concat(e.id),className:"text-gray-600",children:"Qty:"}),(0,a.jsx)("select",{id:"slideover-quantity-".concat(e.id),value:e.quantity,onChange:t=>b(e.id,Number(t.target.value)),className:"rounded-md border-gray-300 py-1 text-gray-900 shadow-sm focus:ring-1 focus:ring-primary-focus focus:border-primary-focus transition-all duration-200 cursor-pointer",children:[1,2,3,4,5,6,7,8,9,10].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsx)(c.P.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-gray-500 hover:text-red-600 transition-colors duration-200 p-1 rounded-full focus:outline-none focus:ring-1 focus:ring-red-500 focus:ring-offset-1",onClick:()=>o(e.id),"aria-label":"Remove item",children:(0,a.jsx)(p.A,{className:"h-5 w-5"})})]})]})]},e.id)})}):(0,a.jsxs)(c.P.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[(0,a.jsx)(g.mzj,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart!"}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(j.A,{onClick:s,children:"Continue Shopping"})})]})})})})]}),r.length>0&&(0,a.jsxs)("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,a.jsx)("p",{children:"Subtotal"}),(0,a.jsxs)("p",{children:["KES ",n.toLocaleString()]})]}),(0,a.jsx)("p",{className:"mt-0.5 text-sm text-gray-500",children:"Shipping and taxes calculated at checkout."}),(0,a.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,a.jsx)(l(),{href:"/checkout",onClick:s,children:(0,a.jsx)(y.A,{className:"w-full",children:"Checkout"})}),(0,a.jsx)(j.A,{className:"w-full",onClick:s,children:"Continue Shopping"})]})]})]})})})})})})]})})}var N=s(92835);let w=()=>{let[e,t]=(0,i.useState)(!1),{data:s,isLoading:r,error:o}=(0,N.Ck)(),c=()=>t(!1);if(r)return(0,a.jsxs)("button",{className:"flex items-center gap-2 text-gray-700",disabled:!0,children:[(0,a.jsx)(n.OXb,{className:"text-2xl"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Loading..."})]});if(o)return(0,a.jsxs)("button",{className:"flex items-center gap-2 text-gray-700",disabled:!0,children:[(0,a.jsx)(n.OXb,{className:"text-2xl"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Menu"})]});let d=s||[];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>t(!0),className:"flex items-center gap-2 text-gray-700","aria-label":"Open menu",children:[(0,a.jsx)(n.OXb,{className:"text-2xl"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Menu"})]}),(0,a.jsx)(m.e,{appear:!0,show:e,as:i.Fragment,children:(0,a.jsx)(u.lG,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:c,children:(0,a.jsxs)("div",{className:"min-h-screen px-4 text-left",children:[(0,a.jsx)(m.e.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30"})}),(0,a.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"â€‹"}),(0,a.jsx)(m.e.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-x-[-100%]",enterTo:"opacity-100 scale-100 translate-x-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-x-0",leaveTo:"opacity-0 scale-95 translate-x-[-100%]",children:(0,a.jsxs)("div",{className:"absolute left-0 top-0 inline-block h-full w-full max-w-md transform overflow-hidden bg-white p-6 text-left align-middle shadow-xl transition-all",onClick:c,role:"presentation",tabIndex:-1,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(u.lG.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 cursor-pointer",onClick:c,children:"Categories"}),(0,a.jsx)("button",{onClick:c,className:"rounded-full p-2 hover:bg-gray-100","aria-label":"Close menu",children:(0,a.jsx)(n.QCr,{className:"text-xl text-gray-600"})})]}),(0,a.jsx)("nav",{className:"mt-6 space-y-1",onClick:e=>e.stopPropagation(),children:d.length>0?d.map(e=>(0,a.jsx)(l(),{href:"/category/".concat(e.slug),className:"block rounded-lg px-4 py-2.5 text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900",onClick:c,children:e.name},e.id)):(0,a.jsx)("div",{className:"text-center text-gray-500",children:"No categories available"})})]})})]})})})]})};var k=s(35695),C=s(26715),S=s(19373),_=s(52643);let T=async(e,t)=>{if(!e.trim())return[];let{data:s,error:a}=await t.from("products").select("id, name, price, images, slug").ilike("name","%".concat(e,"%")).limit(8);return a?[]:s||[]},F=()=>{let{itemCount:e}=(0,f._)(),[t,s]=(0,i.useState)(!1),[r,m]=(0,i.useState)(!1),[u,h]=(0,i.useState)(""),g=(0,k.useRouter)(),p=i.useRef(null),y=(0,C.jE)(),[j,N]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=setTimeout(()=>N(u),250);return()=>clearTimeout(e)},[u]);let{data:F=[],isLoading:I}=(0,S.I)({queryKey:["search-products",j],queryFn:()=>T(j,_.N),enabled:!!j,staleTime:36e5,placeholderData:e=>e});return(0,i.useEffect)(()=>{r&&setTimeout(()=>{var e;return null==(e=p.current)?void 0:e.focus()},50)},[r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"container flex items-center justify-between py-4",children:[(0,a.jsx)("div",{className:"flex-1 lg:hidden",children:(0,a.jsx)(w,{})}),(0,a.jsxs)("div",{className:"flex items-center justify-center w-full lg:justify-start lg:basis-[60%]",children:[(0,a.jsx)(l(),{href:"/",className:"text-2xl font-bold text-primary tracking-normal text-center lg:text-left",children:(0,a.jsx)("span",{className:"md:tracking-normal tracking-tighter",children:"Toto Toys & Fun"})}),(0,a.jsx)("nav",{className:"hidden flex-1 lg:block",children:(0,a.jsxs)("ul",{className:"flex items-center justify-center gap-5 text-sm font-medium",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:"/category/skates",className:"hover:text-primary",children:"Skates"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:"/category/tricycles",className:"hover:text-primary",children:"Tricycles"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:"/category/bicycles",className:"hover:text-primary",children:"Bicycles"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:"/category/scooters",className:"hover:text-primary",children:"Scooters"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:"/category/toys",className:"hover:text-primary",children:"Toys"})})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{type:"button",className:"rounded-full p-2 hover:bg-gray-100","aria-label":"Search",onClick:()=>m(!0),children:(0,a.jsx)(o.Cap,{className:"text-xl"})}),(0,a.jsxs)(c.P.button,{type:"button",className:"relative rounded-full p-2 hover:bg-gray-100",onClick:()=>s(!0),whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,a.jsx)(n.AsH,{className:"text-xl"}),(0,a.jsx)(d.N,{children:e>0&&(0,a.jsx)(c.P.span,{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs font-medium text-white",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e})})]})]})]}),(0,a.jsx)("div",{style:{display:r?"flex":"none"},className:"fixed inset-0 z-40 bg-black/30 backdrop-blur-sm px-2 flex items-center justify-center",onClick:e=>{e.target===e.currentTarget&&m(!1)},children:(0,a.jsxs)("div",{className:"relative w-full max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-5xl rounded-3xl bg-white p-0 shadow-xl flex flex-col items-center justify-center",style:{minHeight:"min(420px, 80vh)",maxHeight:"90vh",boxShadow:"0 4px 32px 0 rgba(80, 80, 120, 0.10), 0 1.5px 8px 0 rgba(80, 80, 120, 0.08)"},onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("form",{className:"w-full flex flex-col items-center justify-center px-4 sm:px-6 pt-6 sm:pt-8 pb-3",children:(0,a.jsxs)("div",{className:"relative w-full max-w-xl",children:[(0,a.jsx)("input",{ref:p,value:u,onChange:e=>{h(e.target.value)},onKeyDown:e=>{"Enter"===e.key?N(u):"Escape"===e.key&&m(!1)},placeholder:"Search for toys...",className:"w-full rounded-2xl border border-transparent px-6 py-4 text-lg bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary/60 shadow-sm hover:shadow transition-all duration-200 placeholder-gray-400 text-gray-800",autoFocus:!0,style:{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.03), 0 1px 2px -1px rgba(0, 0, 0, 0.03)"}}),(0,a.jsx)("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-primary rounded-full p-2 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50",onClick:()=>m(!1),"aria-label":"Close search",tabIndex:0,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-6 w-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsx)("div",{className:"w-full max-w-5xl px-4 sm:px-6",children:(0,a.jsx)("hr",{className:"h-px border-0 bg-gray-100 my-1"})}),(0,a.jsx)("div",{className:"mt-1 flex-1 w-full max-w-5xl overflow-y-auto rounded-b-3xl bg-white scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-transparent",style:{minHeight:"200px",maxHeight:"calc(90vh - 160px)"},children:I?(0,a.jsx)("div",{className:"p-8 text-center text-gray-500 text-lg",children:"Searching..."}):0===F.length&&u?(0,a.jsx)("div",{className:"p-8 text-center text-gray-500 text-lg",children:"No products found"}):(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4",children:F.map(e=>{var t;let s="";if(Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];"string"==typeof t?s=(0,v.a)(t,{width:300,quality:70}):"object"==typeof t&&null!==t&&"url"in t&&(s=(0,v.a)(t.url,{width:300,quality:70}))}else s=(0,v.a)(null);return(0,a.jsxs)("a",{href:e.slug?"/products/".concat(e.slug):"#",className:"group flex flex-col items-stretch rounded-xl border border-transparent bg-white shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary/60",style:{minHeight:"120px"},tabIndex:0,onMouseDown:t=>{e.slug&&(t.preventDefault(),m(!1),h(""),N(""),y.removeQueries({queryKey:["search-products"]}),g.push("/products/".concat(e.slug)))},children:[(0,a.jsx)("div",{className:"relative w-full aspect-square bg-gray-100 flex items-center justify-center overflow-hidden",children:(0,a.jsx)(x.default,{src:s,alt:e.name,fill:!0,sizes:"(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"object-cover transition-transform duration-300 group-hover:scale-105 rounded-t-xl",loading:"lazy",placeholder:"blur",blurDataURL:(0,v.a)(null),onError:e=>e.currentTarget.src=(0,v.a)(null)})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col justify-between p-4",children:[(0,a.jsx)("div",{className:"font-semibold text-gray-800 text-base truncate group-hover:text-primary transition-colors duration-200",children:e.name}),(0,a.jsxs)("div",{className:"mt-1 text-primary font-bold text-lg",children:["Ksh ",null==(t=e.price)?void 0:t.toLocaleString("en-KE")]})]})]},e.id)})})})]})}),(0,a.jsx)(b,{isOpen:t,onClose:()=>s(!1)})]})}},70552:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,69243,23)),Promise.resolve().then(s.bind(s,67122)),Promise.resolve().then(s.bind(s,98691)),Promise.resolve().then(s.bind(s,86238)),Promise.resolve().then(s.bind(s,14003)),Promise.resolve().then(s.bind(s,82262)),Promise.resolve().then(s.t.bind(s,63999,23))},82262:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var a=s(95155),r=s(66766),l=s(6874),i=s.n(l),n=s(12115),o=s(29911),c=s(42843);let d=()=>{let[e,t]=(0,n.useState)(""),[s,r]=(0,n.useState)("idle"),l=async e=>{e.preventDefault(),r("loading");try{await new Promise(e=>setTimeout(e,1e3)),r("success"),t("")}catch(e){r("error")}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:c.IA.heading}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:c.IA.description}),(0,a.jsxs)("form",{onSubmit:l,className:"space-y-3",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email",className:"w-full rounded-lg bg-gray-800 px-4 py-3 text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary",required:!0})}),(0,a.jsx)("button",{type:"submit",disabled:"loading"===s,className:"w-full rounded-lg bg-primary px-4 py-3 text-sm font-medium text-white transition-colors hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50",children:"loading"===s?"Subscribing...":"Subscribe"})]}),"success"===s&&(0,a.jsx)("p",{className:"text-sm text-green-400",children:"Thank you for subscribing!"}),"error"===s&&(0,a.jsx)("p",{className:"text-sm text-red-400",children:"Something went wrong. Please try again."})]})},m={description:"Your one-stop shop for quality toys and fun products in Kenya.",footerLinks:[{title:"Customer Service",links:[{name:"Contact Us",href:"/contact"},{name:"Shipping",href:"/shipping"},{name:"Returns",href:"/returns"}]},{title:"About Us",links:[{name:"Our Story",href:"/about"},{name:"Blog",href:"/blog"},{name:"Careers",href:"/careers"},{name:"Privacy Policy",href:"/privacy-policy"}]}]},u=()=>{let e=new Date().getFullYear();return(0,a.jsx)("footer",{className:"bg-[#E7F6F8] text-gray-700",children:(0,a.jsxs)("div",{className:"container py-16",children:[(0,a.jsxs)("div",{className:"grid gap-12 md:grid-cols-2 lg:grid-cols-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)(i(),{href:"/",className:"mb-6 inline-block",children:(0,a.jsx)(r.default,{src:"/images/logo.png",alt:"Toto Toys & Fun Logo",width:120,height:40,style:{width:"auto",height:"auto"},className:"h-10 w-auto",unoptimized:!0})}),(0,a.jsx)("p",{className:"mb-6 text-sm text-gray-600",children:m.description}),(0,a.jsx)(d,{})]}),(0,a.jsx)("div",{className:"grid gap-8 sm:grid-cols-2 md:grid-cols-4 lg:col-span-4",children:m.footerLinks.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:e.title}),(0,a.jsx)("ul",{className:"space-y-2",children:e.links.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:e.href,className:"text-sm text-gray-600 transition-colors hover:text-gray-900",children:e.name})},e.name))})]},e.title))})]}),(0,a.jsxs)("div",{className:"mt-12 flex flex-col items-center justify-between border-t border-gray-300 pt-8 md:flex-row",children:[(0,a.jsxs)("div",{className:"mb-4 text-sm text-gray-600 md:mb-0",children:["\xa9 ",e," Toto Toys & Fun. All rights reserved."]}),(0,a.jsx)("div",{className:"mb-4 text-sm text-gray-600 md:mb-0",children:(0,a.jsx)(i(),{href:"/sitemap.xml",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Sitemap"})}),(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("a",{href:"https://facebook.com/tototoyskenya",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 transition-colors hover:text-gray-900","aria-label":"Follow us on Facebook",children:(0,a.jsx)(o.iYk,{size:20})}),(0,a.jsx)("a",{href:"https://instagram.com/tototoyskenya",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 transition-colors hover:text-gray-900","aria-label":"Follow us on Instagram",children:(0,a.jsx)(o.ao$,{size:20})}),(0,a.jsx)("a",{href:"https://x.com/tototoyskenya",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 transition-colors hover:text-gray-900","aria-label":"Follow us on Twitter",children:(0,a.jsx)(o.feZ,{size:20})}),(0,a.jsx)("a",{href:"https://tiktok.com/@tototoyskenya",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 transition-colors hover:text-gray-900","aria-label":"Follow us on TikTok",children:(0,a.jsx)(o.kkU,{size:20})})]})]})]})})}},86238:(e,t,s)=>{"use strict";let a;s.d(t,{default:()=>u});var r=s(95155),l=s(61569),i=s(21716),n=s(26715),o=s(12115);let c=()=>new i.E({defaultOptions:{queries:{staleTime:3e5,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}}});function d(){return a||(a=c()),a}function m(e){let{children:t}=e,[s]=(0,o.useState)(d);return(0,r.jsx)(n.Ht,{client:s,children:t})}function u(e){let{children:t}=e,[s,a]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{a(!0)},[]),s)?(0,r.jsx)(m,{children:(0,r.jsx)(l.e,{children:t})}):null}},92835:(e,t,s)=>{"use strict";s.d(t,{Ck:()=>n});var a=s(19373),r=s(52643);function l(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,50)}let i={async getCategoryBySlug(e){let{data:t,error:s}=await r.N.from("categories").select("\n        id,\n        name,\n        slug,\n        description,\n        image_url,\n        is_active\n      ").eq("slug",e).eq("is_active",!0).single();if(s||!t)return null;let{data:a,error:l}=await r.N.from("product_categories").select("\n        product:products(\n          id,\n          name,\n          slug,\n          price,       // Leaner selection for category product list\n          images,\n          is_featured\n        )\n      ").eq("category_id",t.id).eq("products.is_published",!0);if(l)return t;let i=(a?a.map(e=>e&&"object"==typeof e&&void 0!==e.product?e.product:null):[]).filter(e=>null!==e);return{...t,products:i}},async getCategories(){let{data:e,error:t}=await r.N.from("categories").select("\n        id,\n        name,\n        slug,\n        description,\n        image_url,\n        is_active\n      ").eq("is_active",!0).order("name");return t?null:e},async getCategoriesWithCount(){let{data:e,error:t}=await r.N.rpc("get_categories_with_product_counts");return t?null:e},async createCategory(e){let t=l(e.name),s=e.name,a=e.description||e.name,{data:i,error:n}=await r.N.from("categories").insert({...e,slug:t,meta_title:s,meta_description:a}).select("\n        id,\n        name,\n        slug,\n        description,\n        image_url,\n        is_active\n      ").single();return n?null:i},async updateCategory(e,t){let s=t.name?l(t.name):void 0,{data:a,error:i}=await r.N.from("categories").update({...t,...t.name?{slug:s,meta_title:t.name,meta_description:t.description||t.name}:{},updated_at:new Date().toISOString()}).eq("id",e).select("\n        id,\n        name,\n        slug,\n        description,\n        image_url,\n        is_active\n      ").single();return i?null:a}};function n(){return(0,a.I)({queryKey:["categories"],queryFn:()=>i.getCategories(),staleTime:864e5,gcTime:6048e5,refetchOnMount:!1,refetchOnWindowFocus:!1})}},98691:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(95155),r=s(35695),l=s(12115);function i(e){let{children:t}=e,s=(0,r.usePathname)(),[i,n]=(0,l.useState)(!1),[o,c]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{n(!0),c("/"===s)},[s]),i)?(0,a.jsx)("div",{className:"flex min-h-screen flex-col ".concat(o?"bg-white":"bg-gray-50"),children:t}):(0,a.jsx)("div",{className:"flex min-h-screen flex-col bg-white",children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1974,6711,844,9204,4777,4982,6874,3063,316,9373,6972,5517,9013,1537,2246,8441,1684,7358],()=>t(70552)),_N_E=e.O()}]);