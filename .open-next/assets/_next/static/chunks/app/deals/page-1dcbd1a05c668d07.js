(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8242],{6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=r(12115);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=l(e,a)),t&&(n.current=l(t,a))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6865:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(12115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},15436:(e,t,r)=>{Promise.resolve().then(r.bind(r,18372))},18372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(95155),n=r(12115),l=r(52643),i=r(96602),s=r(68261);let c={title:"All Deals",description:"Browse all our amazing deals and save big on these items"},o=()=>{let[e,t]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[u,d]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{o(!0),d(null);try{var e;let{error:r}=await l.N.from("products").select("id").limit(1);if(null==r||null==(e=r.message)?void 0:e.includes("does not exist")){d("Store is being set up. Please check back soon."),o(!1);return}let{data:a,error:n}=await l.N.from("products").select("\n            id,\n            name,\n            description,\n            price,\n            compare_at_price,\n            stock,\n            status,\n            is_featured,\n            is_deal,\n            deal_order,\n            sku,\n            slug,\n            category_id,\n            images,\n            categories:categories(name, slug)\n          ").eq("status","active").not("compare_at_price","is",null).order("deal_order",{ascending:!0}).order("created_at",{ascending:!1});if(n){d("Unable to load deals at this time."),o(!1);return}if(a&&0!==a.length){let e=a.filter(e=>e.compare_at_price&&e.compare_at_price>e.price).map(e=>{let t=e.compare_at_price?(e.compare_at_price-e.price)/e.compare_at_price*100:0;return{...e,discountPercentage:t}}).sort((e,t)=>t.discountPercentage-e.discountPercentage).map((e,t)=>{var r;return{id:e.id,name:e.name,description:e.description,price:e.compare_at_price||e.price,salePrice:e.price,images:Array.isArray(e.images)?e.images.map(e=>({url:e})):[{url:"/images/placeholder.png"}],sku:e.sku||"TOT-".concat(e.id.slice(0,8)),slug:e.slug,category:(null==(r=e.categories)?void 0:r.name)||"",categorySlug:"",ageRange:"",inStock:e.stock>0,isFeatured:e.is_featured||!1,rating:5,reviews:0,index:t+1,sizes:[{value:"0-2",label:"0-2 years",price:e.price,inStock:!0},{value:"2-4",label:"2-4 years",price:e.price,inStock:!0},{value:"4-6",label:"4-6 years",price:e.price,inStock:!0},{value:"6+",label:"6+ years",price:e.price,inStock:!0}]}});t(e)}else t([])}catch(e){d("Something went wrong. Please try again later.")}finally{o(!1)}})()},[]),(0,a.jsxs)("div",{className:"container py-10",children:[(0,a.jsx)(s.A,{title:c.title,description:c.description}),(0,a.jsxs)("div",{className:"mt-8",children:[r&&(0,a.jsx)("div",{className:"text-center text-gray-500",children:"Loading deals..."}),u&&(0,a.jsxs)("div",{className:"text-center text-red-500",children:["Error: ",u]}),!r&&!u&&0===e.length&&(0,a.jsx)("div",{className:"text-center text-gray-500",children:"No deals available at the moment."}),!r&&!u&&e.length>0&&(0,a.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(e=>(0,a.jsx)(i.default,{product:e,className:"best-deals-card"},e.id))})]})]})}},51251:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var a=r(12115),n=r(25214),l=r(9480);function i({children:e,features:t,strict:r=!1}){let[,i]=(0,a.useState)(!s(t)),c=(0,a.useRef)(void 0);if(!s(t)){let{renderer:e,...r}=t;c.current=e,(0,l.Y)(r)}return(0,a.useEffect)(()=>{s(t)&&t().then(({renderer:e,...t})=>{(0,l.Y)(t),c.current=e,i(!0)})},[]),a.createElement(n.Y.Provider,{value:{renderer:c.current,strict:r}},e)}function s(e){return"function"==typeof e}},52643:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var a=r(34982);let n=async(e,t)=>{let{timeout:r=3e4}=t||{},a=new AbortController,n=setTimeout(()=>a.abort(),r),l=await fetch(e,{...t,signal:a.signal});return clearTimeout(n),l},l=(0,a.UU)("https://tafojbtftmihrheeyoky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhZm9qYnRmdG1paHJoZWV5b2t5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3Mzk3MTYsImV4cCI6MjA2MDMxNTcxNn0.vdL2odCYREv1GykTt8wx76lmhaHmDkBYcC65L4Z_vXo",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{fetch:n}})},53441:(e,t,r)=>{"use strict";r.d(t,{l:()=>l});var a=r(16006),n=r(16326);let l={renderer:r(22983).J,...a.W,...n.n}},57859:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(12115);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))})},68261:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(95155);r(12115);let n=e=>{let{title:t,description:r,className:n=""}=e;return(0,a.jsxs)("div",{className:"text-center ".concat(n),children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:t}),r&&(0,a.jsx)("p",{className:"mt-4 text-lg leading-8 text-gray-600",children:r})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4982,3063,316,6972,6602,8441,1684,7358],()=>t(15436)),_N_E=e.O()}]);