(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1430],{45296:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(95155),r=t(12115),l=t(26715),i=t(19373),n=t(5041),o=t(13319),d=t(10351),c=t(55028),m=t(57111),x=t(52643);let h=(0,c.default)(()=>Promise.all([t.e(3579),t.e(7375),t.e(2177),t.e(7558)]).then(t.bind(t,67558)),{loadableGenerated:{webpack:()=>[67558]},ssr:!1});function u(){let[e,s]=(0,r.useState)(!1),[t,c]=(0,r.useState)(null),[u,p]=(0,r.useState)(""),[y,f]=(0,r.useState)(1),j=(0,l.jE)(),{data:N=[],isLoading:g,error:v}=(0,i.I)({queryKey:["blog-authors",y,u],queryFn:async()=>{let e=x.N.from("blog_authors").select("*",{count:"exact"});u&&(e=e.ilike("full_name","%".concat(u,"%")));let{data:s,error:t}=await e.order("full_name",{ascending:!0}).range((y-1)*10,10*y-1);if(t)throw t;return s||[]}}),b=(0,n.n)({mutationFn:async e=>{let{error:s}=await x.N.from("blog_authors").delete().eq("id",e);if(s)throw s;return e},onSuccess:()=>{j.invalidateQueries({queryKey:["blog-authors"]})}}),w=e=>{c(e),s(!0)},k=async e=>{if(window.confirm("Are you sure you want to delete this author? This action cannot be undone."))try{await b.mutateAsync(e)}catch(e){alert("Failed to delete author. Please try again.")}};return(0,a.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,a.jsxs)("div",{className:"sm:flex-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Blog Authors"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Manage the authors who can write blog posts on your site."})]}),(0,a.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,a.jsxs)("button",{type:"button",onClick:()=>{c(null),s(!0)},className:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 sm:w-auto",children:[(0,a.jsx)(d.GGD,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Author"]})})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"relative mt-1 rounded-md shadow-sm",children:(0,a.jsx)("input",{type:"text",name:"search",id:"search",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Search authors...",value:u,onChange:e=>p(e.target.value)})})}),g?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):v?(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading authors"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,a.jsx)("p",{children:v.message})})]})})}):0===N.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No authors"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new author."}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("button",{type:"button",onClick:()=>s(!0),className:"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[(0,a.jsx)(d.GGD,{className:"-ml-1 mr-2 h-5 w-5"}),"New Author"]})})]}):(0,a.jsx)("div",{className:"mt-8 flex flex-col",children:(0,a.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,a.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Name"}),(0,a.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Email"}),(0,a.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Created"}),(0,a.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,a.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:N.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:e.avatar_url?(0,a.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.avatar_url,alt:e.full_name}):(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500",children:e.full_name.charAt(0).toUpperCase()})}),(0,a.jsx)("div",{className:"ml-4",children:(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.full_name})})]})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.email||"-"}),(0,a.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,o.GP)(new Date(e.created_at),"MMM d, yyyy")}),(0,a.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[(0,a.jsx)("button",{onClick:()=>w(e),className:"text-primary-600 hover:text-primary-900 mr-4",children:(0,a.jsx)(d.WXf,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>k(e.id),className:"text-red-600 hover:text-red-900",children:(0,a.jsx)(d.IXo,{className:"h-5 w-5"})})]})]},e.id))})]})})})})})]}),(0,a.jsx)(m.A,{isOpen:e,onClose:()=>{s(!1),c(null)},title:t?"Edit Author":"Add New Author",children:(0,a.jsx)(h,{author:t||void 0,onClose:()=>{s(!1),c(null)}})})]})}},52643:(e,s,t)=>{"use strict";t.d(s,{N:()=>l});var a=t(34982);let r=async(e,s)=>{let{timeout:t=3e4}=s||{},a=new AbortController,r=setTimeout(()=>a.abort(),t),l=await fetch(e,{...s,signal:a.signal});return clearTimeout(r),l},l=(0,a.UU)("https://tafojbtftmihrheeyoky.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhZm9qYnRmdG1paHJoZWV5b2t5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3Mzk3MTYsImV4cCI6MjA2MDMxNTcxNn0.vdL2odCYREv1GykTt8wx76lmhaHmDkBYcC65L4Z_vXo",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{fetch:r}})},57111:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(95155),r=t(12115);function l(e){let{isOpen:s,onClose:t,title:l,children:i}=e;return((0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return s&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[s,t]),s)?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:"inline-block w-full transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:max-w-3xl sm:p-6 sm:align-middle",children:[(0,a.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,a.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:t,children:[(0,a.jsx)("span",{className:"sr-only",children:"Close"}),(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,a.jsx)("div",{className:"sm:flex sm:items-start",children:(0,a.jsxs)("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold leading-6 text-gray-900",children:l}),(0,a.jsx)("div",{className:"mt-4",children:i})]})})]})]})}):null}},99199:(e,s,t)=>{Promise.resolve().then(t.bind(t,45296))}},e=>{var s=s=>e(e.s=s);e.O(0,[844,4982,9373,1921,8441,1684,7358],()=>s(99199)),_N_E=e.O()}]);